from shapely.geometry import Polygon
import shapely  # Used for union_all and difference
import pedpy  # Ensure this module is installed
import networkx as nx

class Environment:
    """
    Class that encapsulates various sets of polygons and associated structures.

    Attributes:
        complete_area: Polygon defining the complete area.
        obstacles: List of Polygons representing obstacles.
        exit_polygons: Dictionary with exit polygons.
        waypoints: Dictionary with waypoints.
        distribution_polygons: Dictionary with distribution polygons.
        G: Some structure, e.g., a graph.
        sources: List or structure of source nodes.
        targets: List or structure of target nodes.
        specific_areas: Dictionary of specific areas.

    Additionally, if complete_area and obstacles are provided, the following are computed:
        obstacle: Union of all obstacles.
        walkable_area: Walkable area resulting from subtracting obstacle from complete_area,
                       wrapped in pedpy.WalkableArea.
    """


    def __init__(self, name, graph, complete_area, obstacles, waypoints,
                  sources, targets, specific_areas, *,floors=None, floor_number=1, floor_connecting_nodes=None):
        self.name = name
        self.graph = graph
        self.floors = floors
        self.floor_number = floor_number
        self.floor_connecting_nodes = floor_connecting_nodes
        self.complete_area = complete_area
        self.obstacles = obstacles
        self.waypoints = waypoints
        self.sources = sources
        self.targets = targets
        self.specific_areas = specific_areas

        # Derived attributes
        self.obstacle = shapely.union_all(self.obstacles)
        self.walkable_area = pedpy.WalkableArea(
            shapely.difference(self.complete_area, self.obstacle)
        )

def remove_obstacles_from_areas(specific_areas, obstacles):
    """
    Removes obstacles from specific areas by subtracting overlapping polygons.

    Args:
        specific_areas (dict): Dictionary of named areas {name: Polygon}.
        obstacles (list): List of Polygon objects representing obstacles.

    Returns:
        dict: Dictionary of cleaned areas {name: Polygon without obstacles}.
    """
    cleaned_areas = {}

    for name, area in specific_areas.items():
        # Subtract all obstacles from the current area
        cleaned_area = area
        for obstacle in obstacles:
            if cleaned_area.intersects(obstacle):  # Only process if they overlap
                cleaned_area = cleaned_area.difference(obstacle)

        # Store the cleaned area in the dictionary
        cleaned_areas[name] = cleaned_area

    return cleaned_areas

def set_targets(target_ids, env):
    """
    Remove those target waypoints from env.waypoints.

    Args:
        target_ids (list of str): List of waypoint keys to mark as targets.
        env (Environment): The environment instance to modify.
    """
    for tid in target_ids:
        env.waypoints.pop(tid, None)

def get_comparing_algorithms_pol():
    complete_area = Polygon(
        [
            (0, -1),
            (0, 17),
            (32, 17),
            (32, -1),
        ]
    )
    obstacles = [
        # bottom
        Polygon([(0, -1), (14, -1), (14, 1), (0, 1)]),
        Polygon([(16, -1), (32, -1), (32, 1), (16, 1)]),

        # top
        Polygon([(0, 15), (14, 15), (14, 17), (0, 17)]),
        Polygon([(16, 15), (32, 15), (32, 17), (16, 17)]),

        Polygon([(2, 3), (14, 3), (14, 7), (2, 7)]),
        Polygon([(16, 3), (28, 3), (28, 7), (16, 7)]),
        Polygon([(2, 9), (14, 9), (14, 13), (2, 13)]),
        Polygon([(16, 9), (28, 9), (28, 13), (16, 13)]),

        Polygon([(30, 1), (32, 1), (32, 3), (30, 3)]),
        Polygon([(30, 5), (32, 5), (32, 11), (30, 11)]),
        Polygon([(30, 13), (32, 13), (32, 17), (30, 17)]),
    ]

    waypoints = {
        # left (8)
        'A': ([1, 14], 0.75),
        'B': ([1, 12], 0.75),
        'C': ([1, 10], 0.75),
        'D': ([1, 8], 0.75),
        'F': ([1, 6], 0.75),
        'G': ([1, 4], 0.75),
        'H': ([1, 2], 0.75),
        # bottom (13)
        'I': ([3, 2], 0.75),
        'J': ([5, 2], 0.75),
        'K': ([7, 2], 0.75),
        'L': ([9, 2], 0.75),
        'M': ([11, 2], 0.75),
        'N': ([13, 2], 0.75),
        'O': ([15, 2], 0.75),
        'P': ([17, 2], 0.75),
        'Q': ([19, 2], 0.75),
        'R': ([21, 2], 0.75),
        'S': ([23, 2], 0.75),
        'T': ([25, 2], 0.75),
        'U': ([27, 2], 0.75),
        # right (8)
        'V': ([29, 14], 0.75),
        'W': ([29, 12], 0.75),
        'X': ([29, 10], 0.75),
        'Y': ([29, 8], 0.75),
        '2A': ([29, 6], 0.75),
        '2B': ([29, 4], 0.75),
        '2C': ([29, 2], 0.75),
        # top (13)
        '2D': ([3, 14], 0.75),
        '2E': ([5, 14], 0.75),
        '2F': ([7, 14], 0.75),
        '2G': ([9, 14], 0.75),
        '2H': ([11, 14], 0.75),
        '2I': ([13, 14], 0.75),
        '2J': ([15, 14], 0.75),
        '2K': ([17, 14], 0.75),
        '2L': ([19, 14], 0.75),
        '2M': ([21, 14], 0.75),
        '2N': ([23, 14], 0.75),
        '2O': ([25, 14], 0.75),
        '2P': ([27, 14], 0.75),
        # center horizontal (11)
        '2Q': ([3, 8], 0.75),
        '2R': ([5, 8], 0.75),
        '2S': ([7, 8], 0.75),
        '2T': ([9, 8], 0.75),
        '2U': ([11, 8], 0.75),
        '2V': ([13, 8], 0.75),
        '2W': ([17, 8], 0.75),
        '2X': ([19, 8], 0.75),
        '2Y': ([21, 8], 0.75),
        '2Z': ([23, 8], 0.75),
        '3A': ([25, 8], 0.75),
        '3B': ([27, 8], 0.75),
        # center vertical (6)
        '3C': ([15, 12], 0.75),
        '3D': ([15, 10], 0.75),
        '3E': ([15, 8], 0.75),
        '3G': ([15, 6], 0.75),
        '3H': ([15, 4], 0.75)
    }

    G = nx.DiGraph()

    # Define nodes with their initial risk levels (0 to 1) and associated costs
    # Format: "Node": risk_level
    nodes = {
        # left (8)
        'A': 0.0,
        'B': 0.0,
        'C': 0.0,
        'D': 0.0,
        'F': 0.0,
        'G': 0.0,
        'H': 0.0,
        # bottom (13)
        'I': 0.0,
        'J': 0.0,
        'K': 0.0,
        'L': 0.0,
        'M': 0.0,
        'N': 0.0,
        'O': 0.6,
        'P': 0.0,
        'Q': 0.0,
        'R': 0.0,
        'S': 0.0,
        'T': 0.0,
        'U': 0.0,
        # right (8)
        'V': 0.0,
        'W': 0.0,
        'X': 0.0,
        'Y': 0.0,
        '2A': 0.0,
        '2B': 0.0,
        '2C': 0.0,
        # top (13)
        '2D': 0.0,
        '2E': 0.0,
        '2F': 0.0,
        '2G': 0.0,
        '2H': 0.0,
        '2I': 0.0,
        '2J': 0.0,
        '2K': 0.0,
        '2L': 0.0,
        '2M': 0.0,
        '2N': 0.0,
        '2O': 0.0,
        '2P': 0.0,
        # center horizontal (12)
        '2Q': 0.0,
        '2R': 0.0,
        '2S': 0.0,
        '2T': 0.0,
        '2U': 0.0,
        '2V': 0.0,
        '2W': 0.0,
        '2X': 0.0,
        '2Y': 0.0,
        '2Z': 0.0,
        '3A': 0.0,
        '3B': 0.0,
        # center vertical (6)
        '3C': 0.0,
        '3D': 0.0,
        '3E': 0.0,
        '3G': 0.0,
        '3H': 0.0,
        # exit polygons (4)
        'EA': 0.0,
        'EB': 0.0,
        'EC': 0.0,
        'ED': 0.0
    }

    # Add nodes to the graph with their attributes
    for node, risk in nodes.items():
        G.add_node(node, risk=risk, blocked=False, is_stairs=False, floor=0)

    G.nodes["2R"]["is_stairs"] = True
    G.nodes["2S"]["is_stairs"] = True
    G.nodes["2Q"]["is_stairs"] = True

    # Define edges between nodes (directed connections)
    # Each tuple represents an edge: (from_node, to_node)
    edges = [

        # 1) OUTER PERIMETER
        # -- Left Side (A→H)
        ("A", "B"), ("B", "A"),
        ("B", "C"), ("C", "B"),
        ("C", "D"), ("D", "C"),
        ("D", "F"), ("F", "D"),
        ("F", "G"), ("G", "F"),
        ("G", "H"), ("H", "G"),

        # -- Bottom Side (H→U)
        ("H", "I"), ("I", "H"),
        ("I", "J"), ("J", "I"),
        ("J", "K"), ("K", "J"),
        ("K", "L"), ("L", "K"),
        ("L", "M"), ("M", "L"),
        ("M", "N"), ("N", "M"),
        ("N", "O"), ("O", "N"),
        ("O", "P"), ("P", "O"),
        ("P", "Q"), ("Q", "P"),
        ("Q", "R"), ("R", "Q"),
        ("R", "S"), ("S", "R"),
        ("S", "T"), ("T", "S"),
        ("T", "U"), ("U", "T"),

        # -- Right Side (U→V)
        ("U", "2C"), ("2C", "U"),
        ("2C", "2B"), ("2B", "2C"),
        ("2B", "2A"), ("2A", "2B"),
        ("Y", "2A"), ("Y", "2A"),
        ("Y", "X"), ("X", "Y"),
        ("X", "W"), ("W", "X"),
        ("W", "V"), ("V", "W"),

        # -- Top Side (V→A passing through 2D...2P)
        ("V", "2P"), ("2P", "V"),
        ("2P", "2O"), ("2O", "2P"),
        ("2O", "2N"), ("2N", "2O"),
        ("2N", "2M"), ("2M", "2N"),
        ("2M", "2L"), ("2L", "2M"),
        ("2L", "2K"), ("2K", "2L"),
        ("2K", "2J"), ("2J", "2K"),
        ("2J", "2I"), ("2I", "2J"),
        ("2I", "2H"), ("2H", "2I"),
        ("2H", "2G"), ("2G", "2H"),
        ("2G", "2F"), ("2F", "2G"),
        ("2F", "2E"), ("2E", "2F"),
        ("2E", "2D"), ("2D", "2E"),
        ("2D", "A"), ("A", "2D"),

        # 2) CENTRAL HORIZONTAL LINE (2Q→3B)
        ("2Q", "2R"), ("2R", "2Q"),
        ("2R", "2S"), ("2S", "2R"),
        ("2S", "2T"), ("2T", "2S"),
        ("2T", "2U"), ("2U", "2T"),
        ("2U", "2V"), ("2V", "2U"),
        ("2W", "2X"), ("2X", "2W"),
        ("2X", "2Y"), ("2Y", "2X"),
        ("2Y", "2Z"), ("2Z", "2Y"),
        ("2Z", "3A"), ("3A", "2Z"),
        ("3A", "3B"), ("3B", "3A"),

        # 3) CENTRAL VERTICAL LINE (3C→3H)
        ("3C", "3D"), ("3D", "3C"),
        ("3D", "3E"), ("3E", "3D"),
        ("3E", "3G"), ("3G", "3E"),
        ("3G", "3H"), ("3H", "3G"),

        # 4) CONNECTIONS FROM THE CENTRAL LINES TO THE PERIMETER
        ("2Q", "D"), ("D", "2Q"),

        ("2V", "3E"), ("3E", "2V"),

        ("2W", "3E"), ("3E", "2W"),

        ("3B", "Y"), ("Y", "3B"),

        # -- Connections from the central vertical line to the perimeter
        ("3C", "2J"), ("2J", "3C"),
        ("3H", "O"), ("O", "3H"),

        # 5) CONNECTIONS WITH EXITS (based on geometric proximity)
        ("EA", "O"), ("O", "EA"),
        ("EB", "2J"), ("2J", "EB"),
        ("EC", "2B"), ("2B", "EC"),
        ("ED", "W"), ("W", "ED")

    ]

    # Add the edges to the graph with cost 2 as all the areas are at the same distance
    G.add_edges_from([(u, v, {"cost": 2}) for u, v in edges])

    specific_areas = {
        # Left side (A–H)
        'A': Polygon([(0, 13), (2, 13), (2, 15), (0, 15)]),
        'B': Polygon([(0, 11), (2, 11), (2, 13), (0, 13)]),
        'C': Polygon([(0, 9), (2, 9), (2, 11), (0, 11)]),
        'D': Polygon([(0, 7), (2, 7), (2, 9), (0, 9)]),
        'F': Polygon([(0, 5), (2, 5), (2, 7), (0, 7)]),
        'G': Polygon([(0, 3), (2, 3), (2, 5), (0, 5)]),
        'H': Polygon([(0, 1), (2, 1), (2, 3), (0, 3)]),

        # Bottom side (I–U)
        'I': Polygon([(2, 1), (4, 1), (4, 3), (2, 3)]),
        'J': Polygon([(4, 1), (6, 1), (6, 3), (4, 3)]),
        'K': Polygon([(6, 1), (8, 1), (8, 3), (6, 3)]),
        'L': Polygon([(8, 1), (10, 1), (10, 3), (8, 3)]),
        'M': Polygon([(10, 1), (12, 1), (12, 3), (10, 3)]),
        'N': Polygon([(12, 1), (14, 1), (14, 3), (12, 3)]),
        'O': Polygon([(14, 1), (16, 1), (16, 3), (14, 3)]),
        'P': Polygon([(16, 1), (18, 1), (18, 3), (16, 3)]),
        'Q': Polygon([(18, 1), (20, 1), (20, 3), (18, 3)]),
        'R': Polygon([(20, 1), (22, 1), (22, 3), (20, 3)]),
        'S': Polygon([(22, 1), (24, 1), (24, 3), (22, 3)]),
        'T': Polygon([(24, 1), (26, 1), (26, 3), (24, 3)]),
        'U': Polygon([(26, 1), (28, 1), (28, 3), (26, 3)]),

        # Right side (V–2C)
        'V': Polygon([(28, 13), (30, 13), (30, 15), (28, 15)]),
        'W': Polygon([(28, 11), (30, 11), (30, 13), (28, 13)]),
        'X': Polygon([(28, 9), (30, 9), (30, 11), (28, 11)]),
        'Y': Polygon([(28, 7), (30, 7), (30, 9), (28, 9)]),
        '2A': Polygon([(28, 5), (30, 5), (30, 7), (28, 7)]),
        '2B': Polygon([(28, 3), (30, 3), (30, 5), (28, 5)]),
        '2C': Polygon([(28, 1), (30, 1), (30, 3), (28, 3)]),

        # Top side (2D–2P)
        '2D': Polygon([(2, 13), (4, 13), (4, 15), (2, 15)]),
        '2E': Polygon([(4, 13), (6, 13), (6, 15), (4, 15)]),
        '2F': Polygon([(6, 13), (8, 13), (8, 15), (6, 15)]),
        '2G': Polygon([(8, 13), (10, 13), (10, 15), (8, 15)]),
        '2H': Polygon([(10, 13), (12, 13), (12, 15), (10, 15)]),
        '2I': Polygon([(12, 13), (14, 13), (14, 15), (12, 15)]),
        '2J': Polygon([(14, 13), (16, 13), (16, 15), (14, 15)]),
        '2K': Polygon([(16, 13), (18, 13), (18, 15), (16, 15)]),
        '2L': Polygon([(18, 13), (20, 13), (20, 15), (18, 15)]),
        '2M': Polygon([(20, 13), (22, 13), (22, 15), (20, 15)]),
        '2N': Polygon([(22, 13), (24, 13), (24, 15), (22, 15)]),
        '2O': Polygon([(24, 13), (26, 13), (26, 15), (24, 15)]),
        '2P': Polygon([(26, 13), (28, 13), (28, 15), (26, 15)]),

        # Central horizontal line (2Q–3B)
        '2Q': Polygon([(2, 7), (4, 7), (4, 9), (2, 9)]),
        '2R': Polygon([(4, 7), (6, 7), (6, 9), (4, 9)]),
        '2S': Polygon([(6, 7), (8, 7), (8, 9), (6, 9)]),
        '2T': Polygon([(8, 7), (10, 7), (10, 9), (8, 9)]),
        '2U': Polygon([(10, 7), (12, 7), (12, 9), (10, 9)]),
        '2V': Polygon([(12, 7), (14, 7), (14, 9), (12, 9)]),
        '2W': Polygon([(16, 7), (18, 7), (18, 9), (16, 9)]),
        '2X': Polygon([(18, 7), (20, 7), (20, 9), (18, 9)]),
        '2Y': Polygon([(20, 7), (22, 7), (22, 9), (20, 9)]),
        '2Z': Polygon([(22, 7), (24, 7), (24, 9), (22, 9)]),
        '3A': Polygon([(24, 7), (26, 7), (26, 9), (24, 9)]),
        '3B': Polygon([(26, 7), (28, 7), (28, 9), (26, 9)]),

        # Central vertical line (3C–3H)
        '3C': Polygon([(14, 11), (16, 11), (16, 13), (14, 13)]),
        '3D': Polygon([(14, 9), (16, 9), (16, 11), (14, 11)]),
        '3E': Polygon([(14, 7), (16, 7), (16, 9), (14, 9)]),
        '3G': Polygon([(14, 5), (16, 5), (16, 7), (14, 7)]),
        '3H': Polygon([(14, 3), (16, 3), (16, 5), (14, 5)]),

        # Exits
        'EA': [(14, 1), (14, -1), (16, -1), (16, 1)],
        'EB': [(14, 15), (14, 17), (16, 17), (16, 15)],
        'EC': [(30, 3), (32, 3), (32, 5), (30, 5)],
        'ED': [(30, 11), (32, 11), (32, 13), (30, 13)]
    }

    return Environment(
        name="comparing_algorithms",
        graph= G,
        complete_area=complete_area,
        obstacles=obstacles,
        waypoints=waypoints,
        sources=["C", "F"],
        targets=["EA", "EB", "EC", "ED"],
        specific_areas=specific_areas
    )

def get_simple_3x3():
    complete_area = Polygon(
        [
            (0, 0),
            (0, 15),
            (15, 15),
            (15, 0),
        ]
    )
    obstacles = [
        # bottom
        Polygon([(4.9, 0.0), (4.9, 1.5), (5.1, 1.5), (5.1, 0.0)]),
        Polygon([(9.9, 0.0), (9.9, 1.5), (10.1, 1.5), (10.1, 0.0)]),
        # right
        Polygon([(13.6, 4.9), (15, 4.9), (15, 5.1), (13.6, 5.1)]),
        Polygon([(13.6, 9.9), (15, 9.9), (15, 10.1), (13.6, 10.1)]),
        # top
        Polygon([(4.9, 15), (4.9, 13.6), (5.1, 13.6), (5.1, 15)]),
        Polygon([(9.9, 15), (9.9, 13.6), (10.1, 13.6), (10.1, 15)]),
        # left
        Polygon([(1.5, 4.9), (0, 4.9), (0, 5.1), (1.5, 5.1)]),
        Polygon([(1.5, 9.9), (0, 9.9), (0, 10.1), (1.5, 10.1)]),
        # center
        ## bottom left
        Polygon(
            [(3.6, 4.9), (4.9, 4.9), (4.9, 3.6), (5.1, 3.6), (5.1, 4.9), (6.4, 4.9), (6.4, 5.1), (5.1, 5.1), (5.1, 6.5),
             (4.9, 6.5), (4.9, 5.1), (3.6, 5.1)]),
        ## bottom right
        Polygon([(8.6, 4.9), (9.9, 4.9), (9.9, 3.6), (10.1, 3.6), (10.1, 4.9), (11.5, 4.9), (11.5, 5.1), (10.1, 5.1),
                 (10.1, 6.5), (9.9, 6.5), (9.9, 5.1), (8.6, 5.1)]),
        ## top left
        Polygon([(3.6, 9.9), (4.9, 9.9), (4.9, 8.6), (5.1, 8.6), (5.1, 9.9), (6.4, 9.9), (6.4, 10.1), (5.1, 10.1),
                 (5.1, 11.5), (4.9, 11.5), (4.9, 10.1), (3.6, 10.1)]),
        ## top right
        Polygon([(8.6, 9.9), (9.9, 9.9), (9.9, 8.6), (10.1, 8.6), (10.1, 9.9), (11.5, 9.9), (11.5, 10.1), (10.1, 10.1),
                 (10.1, 11.5), (9.9, 11.5), (9.9, 10.1), (8.6, 10.1)]),

    ]

    waypoints = {'A': ([2.5, 2.5], 1.5), 'B': ([7.5, 2.5], 1.5), 'C': ([12.5, 2.5], 1.5), 'D': ([12.5, 7.5], 1.5), 'E': ([7.5, 7.5], 1.5),
                 'F': ([2.5, 7.5], 1.5), 'G': ([2.5, 12.5], 1.5), 'H': ([7.5, 12.5], 1.5)}

    # Create the graph
    G = nx.DiGraph()

    # Nodos y sus niveles iniciales de riesgo (0 a 1)
    nodes = {
        "A": 0.0, "B": 0.6, "C": 0.0,
        "D": 0.0, "E": 0.6, "F": 0.1,
        "G": 0.0, "H": 0.0, "I": 0.0,
    }

    # Agregar nodos al grafo
    for node, risk in nodes.items():
        G.add_node(node, risk=risk, blocked=False, is_stairs=False, floor=0)

    # Definir las conexiones entre nodos
    edges = [
        ("A", "B"), ("A", "F"), ("B", "A"), ("B", "E"), ("B", "C"),
        ("C", "B"), ("C", "D"), ("D", "I"), ("D", "E"), ("D", "C"),
        ("E", "D"), ("E", "F"), ("E", "B"), ("E", "H"), ("F", "A"),
        ("F", "E"), ("F", "G"), ("G", "F"), ("G", "H"), ("H", "E"),
        ("H", "G"), ("H", "I"),
    ]

    # Agregar las aristas con un costo fijo (se puede ajustar)
    G.add_edges_from([(u, v, {"cost": 3}) for u, v in edges])

    specific_areas = dict()
    specific_areas['A'] = Polygon([(0, 0), (5, 0), (5, 5), (0, 5)])
    specific_areas['B'] = Polygon([(5, 0), (10, 0), (10, 5), (5, 5)])
    specific_areas['C'] = Polygon([(10, 0), (15, 0), (15, 5), (10, 5)])
    specific_areas['D'] = Polygon([(10, 5), (15, 5), (15, 10), (10, 10)])
    specific_areas['E'] = Polygon([(5, 5), (10, 5), (10, 10), (5, 10)])
    specific_areas['F'] = Polygon([(0, 5), (5, 5), (5, 10), (0, 10)])
    specific_areas['G'] = Polygon([(0, 10), (5, 10), (5, 15), (0, 15)])
    specific_areas['H'] = Polygon([(5, 10), (10, 10), (10, 15), (5, 15)])
    specific_areas['I'] = Polygon([(10, 10), (15, 10), (15, 15), (10, 15)])

    # so that the walls are properly shown
    #specific_areas = remove_obstacles_from_areas(specific_areas, obstacles)

    return Environment(
        name="simple_3x3",
        graph=G,
        complete_area=complete_area,
        obstacles=obstacles,
        waypoints=waypoints,
        sources=["A"],
        targets=["I"],
        specific_areas=specific_areas
    )

def get_cruise_ship():
    complete_area = Polygon([(0, -40), (0, 50), (30, 50), (30, -40)])

    obstacles = [
        Polygon([(0, 4), (2, 4), (2, 10), (5, 10), (5, 45), (10, 45), (10, 48), (20,48), (20, 45), (25,45), (25, 4),
                 (30, 4), (30, 50), (0,50), (0, 4)]),

        Polygon([(4, 0), (23, 0), (23, 4), (10, 4), (10, 7), (4, 7)]), # 1

        Polygon([(7, 9), (10, 9), (10, 22.9), (10.5, 22.9), (10.5, 23), (9, 23), (9, 24), (7, 24)]), # 2

        Polygon([(20, 6),(23, 6), (23, 23), (19.5, 23), (19.5, 22.9), (20, 22.9)]),

        Polygon([(12, 6), (18, 6), (18, 11), (12, 11)]), # 3

        Polygon([(13, 13), (17, 13), (17, 19), (13, 19)]),

        Polygon([(13, 21), (17, 21), (17, 22.9), (17.5, 22.9), (17.5, 23), (17, 23), (12.5, 23), (12.5,22.9), (13, 22.9)]), # 4

        Polygon([(7, 41),(7, 35.5), (7.1, 35.5), (7.1 ,41), (14, 40.9), (14, 41), (12, 41), (12, 43), (7, 43)]),

        Polygon([(7, 33.5), (7, 26), (11, 26), (11, 25), (14, 25), (14, 25.1), (11.1, 25.1), (11.1, 26.1),
                 (7.1, 26.1), (7.1, 33.5)]),

        Polygon([(16, 25), (23, 25), (23, 29.5), (22.9, 29.5), (22.9, 25.1), (16, 25.1)]),

        Polygon([(22.9, 31.5), (23, 31.5), (23, 34.5), (22.9, 34.5)]),

        Polygon([(22.9, 36.5), (23, 36.5), (23, 43), (18, 43), (18, 41), (16, 41), (16, 40.9), (18.1, 40.9),
                 (18.1, 42.9), (22.9, 42.9)]),

        Polygon([(4, 2), (2, 2), (2, 2.1), (4, 2.1)]),

        Polygon([(23, 2), (28, 2), (28, 2.1), (23, 2.1)]),

        Polygon([(0, 0), (2, 0), (2, 0.1), (0, 0.1)]),

        Polygon([(25, 0), (30, 0), (30, 0.1), (25, 0.1)]),

        Polygon([(2, -2), (7, -2), (7, -15), (2, -15)]),

        Polygon([(2, -16), (7, -16), (7, -30), (14, -30), (14, -32), (2, -32)]),

        Polygon([(8, -2), (22, -2), (22, -11), (8, -11)]), # top

        Polygon([(8, -12), (22, -12), (22, -20), (8, -20)]), # mid

        Polygon([(8, -21), (22, -21), (22, -29), (8, -29)]), # bot

        Polygon([(23, -2), (28, -2), (28, -15), (23, -15)]),

        Polygon([(23, -16), (28, -16), (28, -32), (16, -32), (16, -30), (23, -30)]),

        Polygon([(2, -34), (7, -34), (7, -35.5), (5, -35.5), (5, -37.5), (7, -37.5), (7, -39), (2, -39)]),

        Polygon([(10.5, -34), (19.5, -34), (19.5, -39), (10.5, -39)]),

        Polygon([(23, -34), (28, -34), (28, -39), (23, -39), (23, -37.5), (25, -37.5), (25, -35.5), (23, -35.5)]),
    ]

    waypoints = {
        '1': ([3.0, 1.0], 0.5),
        '2': ([1.0, 1.0], 0.5),
        '3': ([1.0, 3.0], 0.5),
        '4': ([3.0, 3.0], 0.5),
        '5': ([3.0, 5.5], 0.5),
        '6': ([3.5, 8.5], 1.0),
        '7': ([6.0, 8.5], 0.5),
        '8': ([6.0, 11.5], 0.5),
        '9': ([6.0, 14.0], 0.5),
        '10': ([6.0, 16.0], 0.5),
        '11': ([6.0, 18.0], 0.5),
        '12': ([6.0, 20.0], 0.5),
        '13': ([6.0, 22.0], 0.5),
        '14': ([6.0, 24.5], 0.5),
        '15': ([6.0, 27.5], 0.5),
        '16': ([6.0, 30.0], 0.5),
        '17': ([6.0, 32.0], 0.5),
        '18': ([6.0, 34.5], 0.5),
        '19': ([6.0, 37.5], 0.5),
        '20': ([6.0, 40.0], 0.5),
        '21': ([6.0, 42.0], 0.5),
        '22': ([6.0, 44.0], 0.5),
        '23': ([8.5, 8.0], 0.5),
        '24': ([11.0, 8.0], 0.5),
        '25': ([11.0, 5.5], 0.5),
        '26': ([13.0, 5.0], 0.5),
        '27': ([15.0, 5.0], 0.5),
        '28': ([17.0, 5.0], 0.5),
        '29': ([19.0, 5.5], 0.5),
        '30': ([21.0, 5.0], 0.5),
        '31': ([23.5, 5.0], 0.5),
        '32': ([24.0, 7.5], 0.5),
        '33': ([24.0, 10.0], 0.5),
        '34': ([24.0, 12.0], 0.5),
        '35': ([24.0, 14.0], 0.5),
        '36': ([24.0, 16.0], 0.5),
        '37': ([24.0, 18.0], 0.5),
        '38': ([24.0, 20.0], 0.5),
        '39': ([24.0, 22.0], 0.5),
        '40': ([24.0, 24.0], 0.5),
        '41': ([24.0, 26.0], 0.5),
        '42': ([24.0, 28.0], 0.5),
        '43': ([24.0, 30.5], 0.5),
        '44': ([24.0, 33.0], 0.5),
        '45': ([24.0, 35.5], 0.5),
        '46': ([24.0, 38.0], 0.5),
        '47': ([24.0, 40.0], 0.5),
        '48': ([24.0, 42.0], 0.5),
        '49': ([24.0, 44.0], 0.5),
        '50': ([24.0, 3.0], 0.5),
        '51': ([26.5, 3.0], 0.5),
        '52': ([29.0, 3.0], 0.5),
        '53': ([29.0, 1.0], 0.5),
        '54': ([26.5, 1.0], 0.5),
        '55': ([24.0, 1.0], 0.5),
        '56': ([11.0, 10.0], 0.5),
        '57': ([11.5, 12.0], 0.5),
        '58': ([11.5, 14.0], 0.5),
        '59': ([11.5, 16.0], 0.5),
        '60': ([11.5, 18.0], 0.5),
        '61': ([11.5, 20.0], 0.5),
        '62': ([11.5, 22.0], 0.5),
        '63': ([14.0, 12.0], 0.5),
        '64': ([16.0, 12.0], 0.5),
        '65': ([14.0, 20.0], 0.5),
        '66': ([16.0, 20.0], 0.5),
        '67': ([19.0, 8.0], 0.5),
        '68': ([19.0, 10.0], 0.5),
        '69': ([18.5, 12.0], 0.5),
        '70': ([18.5, 14.0], 0.5),
        '71': ([18.5, 16.0], 0.5),
        '72': ([18.5, 18.0], 0.5),
        '73': ([18.5, 20.0], 0.5),
        '74': ([18.5, 22.0], 0.5),
        '75': ([8.0, 25.0], 0.5),
        '76': ([10.0, 24.5], 0.5),
        '77': ([12.0, 24.0], 0.5),
        '78': ([15.0, 24.0], 0.5),
        '79': ([18.5, 24.0], 0.5),
        '80': ([21.5, 24.0], 0.5),
        '81': ([8.5, 44.0], 0.5),
        '82': ([12.5, 45.5], 2.5),
        '83': ([17.5, 45.5], 2.5),
        '84': ([15.0, 42.0], 1.5),
        '85': ([21.5, 44.0], 0.5),
        '86': ([10.0, 27.5], 1.5),
        '87': ([10.0, 30.5], 1.5),
        '88': ([10.0, 34.0], 1.5),
        '89': ([10.0, 37.0], 0.75),
        '90': ([10.0, 39.5], 1.5),
        '91': ([14.5, 27.0], 1.75),
        '92': ([15.0, 33.0], 5.5),
        '94': ([14.5, 39.0], 1.75),
        '95': ([20.5, 27.0], 1.75),
        '96': ([20.5, 31.0], 1.75),
        '97': ([20.5, 35.0], 1.75),
        '98': ([20.5, 39.0], 1.75),
        '99': ([20.5, 42.0], 1.0),
        '100': ([1.0, -39.0], 0.75),
        '101': ([1.0, -37.0], 0.75),
        '102': ([1.0, -35.0], 0.75),
        '103': ([1.0, -33.0], 0.75),
        '104': ([1.0, -31.0], 0.75),
        '105': ([1.0, -29.0], 0.75),
        '106': ([1.0, -27.0], 0.75),
        '107': ([1.0, -25.0], 0.75),
        '108': ([1.0, -23.0], 0.75),
        '109': ([1.0, -21.0], 0.75),
        '110': ([1.0, -19.0], 0.75),
        '111': ([1.0, -17.0], 0.75),
        '112': ([1.0, -15.0], 0.775),
        '113': ([1.0, -13.0], 0.75),
        '114': ([1.0, -11.0], 0.75),
        '115': ([1.0, -9.0], 0.75),
        '116': ([1.0, -7.0], 0.75),
        '117': ([1.0, -5.0], 0.75),
        '118': ([1.0, -3.0], 0.75),
        '119': ([1.0, -1.0], 0.75),
        '120': ([3.0, -39.5], 0.75),
        '121': ([5.5, -39.5], 0.75),
        '122': ([9.0, -39.5], 0.75),
        '123': ([12.5, -39.5], 0.75),
        '124': ([15.0, -39.5], 0.75),
        '125': ([17.5, -39.5], 0.75),
        '126': ([21.0, -39.5], 0.75),
        '127': ([24.5, -39.5], 0.75),
        '128': ([27.0, -39.5], 0.75),
        '129': ([3.0, -1.0], 0.75),
        '130': ([5.0, -1.0], 0.75),
        '131': ([7.0, -1.0], 0.75),
        '132': ([9.0, -1.0], 0.75),
        '133': ([11.0, -1.0], 0.75),
        '134': ([13.0, -1.0], 0.75),
        '135': ([15.0, -1.0], 0.75),
        '136': ([17.0, -1.0], 0.75),
        '137': ([19.0, -1.0], 0.75),
        '138': ([21.5, -1.0], 0.75),
        '139': ([24.5, -1.0], 0.75),
        '140': ([27.0, -1.0], 0.75),
        '141': ([29.0, -39.0], 0.75),
        '142': ([29.0, -37.0], 0.75),
        '143': ([29.0, -35.0], 0.75),
        '144': ([29.0, -33.0], 0.75),
        '145': ([29.0, -31.0], 0.75),
        '146': ([29.0, -29.0], 0.75),
        '147': ([29.0, -27.0], 0.75),
        '148': ([29.0, -25.0], 0.75),
        '149': ([29.0, -23.0], 0.75),
        '150': ([29.0, -21.0], 0.75),
        '151': ([29.0, -19.0], 0.75),
        '152': ([29.0, -17.0], 0.75),
        '153': ([29.0, -15.0], 0.75),
        '154': ([29.0, -13.0], 0.75),
        '155': ([29.0, -11.0], 0.75),
        '156': ([29.0, -9.0], 0.75),
        '157': ([29.0, -7.0], 0.75),
        '158': ([29.0, -5.0], 0.75),
        '159': ([29.0, -3.0], 0.75),
        '160': ([29.0, -1.0], 0.75),
        '161': ([8.75, -36.5], 1.5),
        '162': ([21.25, -36.5], 1.5),
        '163': ([6.0, -36.5], 0.5),
        '164': ([24.0, -36.5], 0.5),
        '165': ([3.0, -33.0], 0.75),
        '166': ([5.5, -33.0], 0.75),
        '167': ([9.0, -33.0], 0.75),
        '168': ([12.5, -33.0], 0.75),
        '169': ([15.0, -33.0], 0.75),
        '170': ([17.5, -33.0], 0.75),
        '171': ([21.0, -33.0], 0.75),
        '172': ([24.5, -33.0], 0.75),
        '173': ([27.0, -33.0], 0.75),
        '174': ([15.0, -31.0], 0.75),
        '175': ([8.0, -29.5], 0.5),
        '176': ([10.0, -29.5], 0.5),
        '177': ([12.0, -29.5], 0.5),
        '178': ([15.0, -29.5], 0.5),
        '179': ([18.0, -29.5], 0.5),
        '180': ([20.0, -29.5], 0.5),
        '181': ([22.0, -29.5], 0.5),
        '182': ([7.5, -28.0], 0.5),
        '183': ([7.5, -26.0], 0.5),
        '184': ([7.5, -24.0], 0.5),
        '185': ([7.5, -22.0], 0.5),
        '186': ([7.5, -20.0], 0.5),
        '187': ([7.5, -18.0], 0.5),
        '188': ([7.5, -16.0], 0.5),
        '189': ([7.5, -14.0], 0.5),
        '190': ([7.5, -12.0], 0.5),
        '191': ([7.5, -10.0], 0.5),
        '192': ([7.5, -8.0], 0.5),
        '193': ([7.5, -6.0], 0.5),
        '194': ([7.5, -3.5], 0.5),
        '195': ([22.5, -28.0], 0.5),
        '196': ([22.5, -26.0], 0.5),
        '197': ([22.5, -24.0], 0.5),
        '198': ([22.5, -22.0], 0.5),
        '199': ([22.5, -20.0], 0.5),
        '200': ([22.5, -18.0], 0.5),
        '201': ([22.5, -16.0], 0.5),
        '202': ([22.5, -14.0], 0.5),
        '203': ([22.5, -12.0], 0.5),
        '204': ([22.5, -10.0], 0.5),
        '205': ([22.5, -8.0], 0.5),
        '206': ([22.5, -6.0], 0.5),
        '207': ([22.5, -3.5], 0.5),
        '208': ([9.0, -20.5], 0.5),
        '209': ([11.0, -20.5], 0.5),
        '210': ([13.0, -20.5], 0.5),
        '211': ([15.0, -20.5], 0.5),
        '212': ([17.0, -20.5], 0.5),
        '213': ([19.0, -20.5], 0.5),
        '214': ([21.0, -20.5], 0.5),
        '215': ([9.0, -11.5], 0.5),
        '216': ([11.0, -11.5], 0.5),
        '217': ([13.0, -11.5], 0.5),
        '218': ([15.0, -11.5], 0.5),
        '219': ([17.0, -11.5], 0.5),
        '220': ([19.0, -11.5], 0.5),
        '221': ([21.0, -11.5], 0.5),
        '222': ([3.25, -15.5], 0.5),
        '223': ([5.75, -15.5], 0.5),
        '224': ([24.25, -15.5], 0.5),
        '225': ([26.75, -15.5], 0.5),

    }

    G = nx.DiGraph()

    nodes = {
        "1": 0.0,
        "2": 0.0,
        "3": 0.0,
        "4": 0.0,
        "5": 0.0,
        "6": 0.0,
        "7": 0.0,
        "8": 0.0,
        "9": 0.0,
        "10": 0.0,
        "11": 0.0,
        "12": 0.0,
        "13": 0.0,
        "14": 0.0,
        "15": 0.0,
        "16": 0.0,
        "17": 0.0,
        "18": 0.0,
        "19": 0.0,
        "20": 0.0,
        "21": 0.0,
        "22": 0.0,
        "23": 0.0,
        "24": 0.0,
        "25": 0.0,
        "26": 0.0,
        "27": 0.0,
        "28": 0.0,
        "29": 0.0,
        "30": 0.0,
        "31": 0.0,
        "32": 0.0,
        "33": 0.0,
        "34": 0.0,
        "35": 0.0,
        "36": 0.0,
        "37": 0.0,
        "38": 0.0,
        "39": 0.0,
        "40": 0.0,
        "41": 0.0,
        "42": 0.0,
        "43": 0.0,
        "44": 0.0,
        "45": 0.0,
        "46": 0.0,
        "47": 0.0,
        "48": 0.0,
        "49": 0.0,
        "50": 0.0,
        "51": 0.0,
        "52": 0.0,
        "53": 0.0,
        "54": 0.0,
        "55": 0.0,
        "56": 0.0,
        "57": 0.0,
        "58": 0.0,
        "59": 0.0,
        "60": 0.0,
        "61": 0.0,
        "62": 0.0,
        "63": 0.0,
        "64": 0.0,
        "65": 0.0,
        "66": 0.0,
        "67": 0.0,
        "68": 0.0,
        "69": 0.0,
        "70": 0.0,
        "71": 0.0,
        "72": 0.0,
        "73": 0.0,
        "74": 0.0,
        "75": 0.0,
        "76": 0.0,
        "77": 0.0,
        "78": 0.0,
        "79": 0.0,
        "80": 0.0,
        "81": 0.0,
        "82": 0.0,
        "83": 0.0,
        "84": 0.0,
        "85": 0.0,
        "86": 0.0,
        "87": 0.0,
        "88": 0.0,
        "89": 0.0,
        "90": 0.0,
        "91": 0.0,
        "92": 0.0,
        "94": 0.0,
        "95": 0.0,
        "96": 0.0,
        "97": 0.0,
        "98": 0.0,
        "99": 0.0,
        "100": 0.0,
        "101": 0.0,
        "102": 0.0,
        "103": 0.0,
        "104": 0.0,
        "105": 0.0,
        "106": 0.0,
        "107": 0.0,
        "108": 0.0,
        "109": 0.0,
        "110": 0.0,
        "111": 0.0,
        "112": 0.0,
        "113": 0.0,
        "114": 0.0,
        "115": 0.0,
        "116": 0.0,
        "117": 0.0,
        "118": 0.0,
        "119": 0.0,
        "120": 0.0,
        "121": 0.0,
        "122": 0.0,
        "123": 0.0,
        "124": 0.0,
        "125": 0.0,
        "126": 0.0,
        "127": 0.0,
        "128": 0.0,
        "129": 0.0,
        "130": 0.0,
        "131": 0.0,
        "132": 0.0,
        "133": 0.0,
        "134": 0.0,
        "135": 0.0,
        "136": 0.0,
        "137": 0.0,
        "138": 0.0,
        "139": 0.0,
        "140": 0.0,
        "141": 0.0,
        "142": 0.0,
        "143": 0.0,
        "144": 0.0,
        "145": 0.0,
        "146": 0.0,
        "147": 0.0,
        "148": 0.0,
        "149": 0.0,
        "150": 0.0,
        "151": 0.0,
        "152": 0.0,
        "153": 0.0,
        "154": 0.0,
        "155": 0.0,
        "156": 0.0,
        "157": 0.0,
        "158": 0.0,
        "159": 0.0,
        "160": 0.0,
        "161": 0.0,
        "162": 0.0,
        "163": 0.0,
        "164": 0.0,
        "165": 0.0,
        "166": 0.0,
        "167": 0.0,
        "168": 0.0,
        "169": 0.0,
        "170": 0.0,
        "171": 0.0,
        "172": 0.0,
        "173": 0.0,
        "174": 0.0,
        "175": 0.0,
        "176": 0.0,
        "177": 0.0,
        "178": 0.0,
        "179": 0.0,
        "180": 0.0,
        "181": 0.0,
        "182": 0.0,
        "183": 0.0,
        "184": 0.0,
        "185": 0.0,
        "186": 0.0,
        "187": 0.0,
        "188": 0.0,
        "189": 0.0,
        "190": 0.0,
        "191": 0.0,
        "192": 0.0,
        "193": 0.0,
        "194": 0.0,
        "195": 0.0,
        "196": 0.0,
        "197": 0.0,
        "198": 0.0,
        "199": 0.0,
        "200": 0.0,
        "201": 0.0,
        "202": 0.0,
        "203": 0.0,
        "204": 0.0,
        "205": 0.0,
        "206": 0.0,
        "207": 0.0,
        "208": 0.0,
        "209": 0.0,
        "210": 0.0,
        "211": 0.0,
        "212": 0.0,
        "213": 0.0,
        "214": 0.0,
        "215": 0.0,
        "216": 0.0,
        "217": 0.0,
        "218": 0.0,
        "219": 0.0,
        "220": 0.0,
        "221": 0.0,
        "222": 0.0,
        "223": 0.0,
        "224": 0.0,
        "225": 0.0,
    }

    for node, risk in nodes.items():
        G.add_node(node, risk=risk, blocked=False, is_stairs=False, floor=1)

    for i in range(100, 226):
        G.nodes[f"{i}"] ["floor"]= 0

    G.nodes["1"]["is_stairs"] = True
    G.nodes["2"]["is_stairs"] = True
    G.nodes["3"]["is_stairs"] = True
    G.nodes["4"]["is_stairs"] = True
    G.nodes["50"]["is_stairs"] = True
    G.nodes["51"]["is_stairs"] = True
    G.nodes["52"]["is_stairs"] = True
    G.nodes["53"]["is_stairs"] = True
    G.nodes["54"]["is_stairs"] = True
    G.nodes["54"]["is_stairs"] = True

    edges = [
        ('1', '2'),
        ('1', '129'),
        ('2', '1'),
        ('2', '3'),
        ('3', '2'),
        ('3', '4'),
        ('4', '3'),
        ('4', '5'),
        ('5', '4'),
        ('5', '6'),
        ('6', '5'),
        ('6', '7'),
        ('7', '6'),
        ('7', '8'),
        ('7', '23'),
        ('8', '7'),
        ('8', '9'),
        ('9', '8'),
        ('9', '10'),
        ('10', '9'),
        ('10', '11'),
        ('11', '10'),
        ('11', '12'),
        ('12', '11'),
        ('12', '13'),
        ('13', '12'),
        ('13', '14'),
        ('14', '13'),
        ('14', '15'),
        ('14', '75'),
        ('15', '14'),
        ('15', '16'),
        ('16', '15'),
        ('16', '17'),
        ('17', '16'),
        ('17', '18'),
        ('18', '17'),
        ('18', '19'),
        ('18', '88'),
        ('19', '18'),
        ('19', '20'),
        ('20', '19'),
        ('20', '21'),
        ('21', '20'),
        ('21', '22'),
        ('22', '21'),
        ('22', '81'),
        ('23', '7'),
        ('23', '24'),
        ('24', '23'),
        ('24', '25'),
        ('24', '56'),
        ('25', '24'),
        ('25', '26'),
        ('26', '25'),
        ('26', '27'),
        ('27', '26'),
        ('27', '28'),
        ('28', '27'),
        ('28', '29'),
        ('29', '28'),
        ('29', '30'),
        ('29', '67'),
        ('30', '29'),
        ('30', '31'),
        ('31', '30'),
        ('31', '32'),
        ('31', '50'),
        ('32', '31'),
        ('32', '33'),
        ('33', '32'),
        ('33', '34'),
        ('34', '33'),
        ('34', '35'),
        ('35', '34'),
        ('35', '36'),
        ('36', '35'),
        ('36', '37'),
        ('37', '36'),
        ('37', '38'),
        ('38', '37'),
        ('38', '39'),
        ('39', '38'),
        ('39', '40'),
        ('40', '39'),
        ('40', '41'),
        ('40', '80'),
        ('41', '40'),
        ('41', '42'),
        ('42', '41'),
        ('42', '43'),
        ('43', '42'),
        ('43', '44'),
        ('43', '96'),
        ('44', '43'),
        ('44', '45'),
        ('45', '44'),
        ('45', '46'),
        ('45', '97'),
        ('46', '45'),
        ('46', '47'),
        ('47', '46'),
        ('47', '48'),
        ('48', '47'),
        ('48', '49'),
        ('49', '48'),
        ('49', '85'),
        ('50', '31'),
        ('50', '51'),
        ('51', '50'),
        ('51', '52'),
        ('52', '51'),
        ('52', '53'),
        ('53', '52'),
        ('53', '54'),
        ('54', '50'),
        ('54', '53'),
        ('54', '55'),
        ('55', '54'),
        ('55', '139'),
        ('56', '24'),
        ('56', '57'),
        ('57', '56'),
        ('57', '58'),
        ('57', '63'),
        ('58', '57'),
        ('58', '59'),
        ('59', '58'),
        ('59', '60'),
        ('60', '59'),
        ('60', '61'),
        ('61', '60'),
        ('61', '62'),
        ('61', '65'),
        ('62', '61'),
        ('62', '77'),
        ('63', '57'),
        ('63', '64'),
        ('64', '63'),
        ('64', '69'),
        ('65', '61'),
        ('65', '66'),
        ('66', '65'),
        ('66', '73'),
        ('67', '29'),
        ('67', '68'),
        ('68', '67'),
        ('68', '69'),
        ('69', '64'),
        ('69', '68'),
        ('69', '70'),
        ('70', '69'),
        ('70', '71'),
        ('71', '70'),
        ('71', '72'),
        ('72', '71'),
        ('72', '73'),
        ('73', '66'),
        ('73', '72'),
        ('73', '74'),
        ('74', '73'),
        ('74', '79'),
        ('75', '14'),
        ('75', '76'),
        ('76', '75'),
        ('76', '77'),
        ('77', '62'),
        ('77', '76'),
        ('77', '78'),
        ('78', '77'),
        ('78', '79'),
        ('78', '91'),
        ('79', '74'),
        ('79', '78'),
        ('79', '80'),
        ('80', '40'),
        ('80', '79'),
        ('81', '22'),
        ('81', '82'),
        ('82', '81'),
        ('82', '83'),
        ('82', '84'),
        ('83', '82'),
        ('83', '84'),
        ('83', '85'),
        ('84', '82'),
        ('84', '83'),
        ('84', '94'),
        ('85', '49'),
        ('85', '83'),
        ('88', '18'),
        ('88', '92'),
        ('91', '78'),
        ('91', '92'),
        ('92', '88'),
        ('92', '91'),
        ('92', '94'),
        ('92', '96'),
        ('92', '97'),
        ('94', '84'),
        ('94', '92'),
        ('96', '43'),
        ('96', '92'),
        ('96', '97'),
        ('97', '45'),
        ('97', '92'),
        ('97', '96'),
        ('100', '101'),
        ('100', '120'),
        ('101', '100'),
        ('101', '102'),
        ('102', '101'),
        ('102', '103'),
        ('103', '102'),
        ('103', '104'),
        ('103', '165'),
        ('104', '103'),
        ('104', '105'),
        ('105', '104'),
        ('105', '106'),
        ('106', '105'),
        ('106', '107'),
        ('107', '106'),
        ('107', '108'),
        ('108', '107'),
        ('108', '109'),
        ('109', '108'),
        ('109', '110'),
        ('110', '109'),
        ('110', '111'),
        ('111', '110'),
        ('111', '112'),
        ('112', '111'),
        ('112', '113'),
        ('112', '222'),
        ('113', '112'),
        ('113', '114'),
        ('114', '113'),
        ('114', '115'),
        ('115', '114'),
        ('115', '116'),
        ('116', '115'),
        ('116', '117'),
        ('117', '116'),
        ('117', '118'),
        ('118', '117'),
        ('118', '119'),
        ('119', '118'),
        ('119', '129'),
        ('120', '100'),
        ('120', '121'),
        ('121', '120'),
        ('121', '122'),
        ('122', '121'),
        ('122', '123'),
        ('122', '161'),
        ('123', '122'),
        ('123', '124'),
        ('124', '123'),
        ('124', '125'),
        ('125', '124'),
        ('125', '126'),
        ('126', '125'),
        ('126', '127'),
        ('126', '162'),
        ('127', '126'),
        ('127', '128'),
        ('128', '127'),
        ('128', '142'),
        ('129', '1'),
        ('129', '119'),
        ('129', '130'),
        ('130', '129'),
        ('130', '131'),
        ('131', '130'),
        ('131', '132'),
        ('131', '194'),
        ('132', '131'),
        ('132', '133'),
        ('133', '132'),
        ('133', '134'),
        ('134', '133'),
        ('134', '135'),
        ('135', '134'),
        ('135', '136'),
        ('136', '135'),
        ('136', '137'),
        ('137', '136'),
        ('137', '138'),
        ('138', '137'),
        ('138', '139'),
        ('138', '207'),
        ('139', '55'),
        ('139', '138'),
        ('139', '140'),
        ('140', '139'),
        ('140', '160'),
        ('141', '128'),
        ('141', '142'),
        ('142', '141'),
        ('142', '143'),
        ('143', '142'),
        ('143', '144'),
        ('144', '143'),
        ('144', '145'),
        ('144', '173'),
        ('145', '144'),
        ('145', '146'),
        ('146', '145'),
        ('146', '147'),
        ('147', '146'),
        ('147', '148'),
        ('148', '147'),
        ('148', '149'),
        ('149', '148'),
        ('149', '150'),
        ('150', '149'),
        ('150', '151'),
        ('151', '150'),
        ('151', '152'),
        ('152', '151'),
        ('152', '153'),
        ('153', '152'),
        ('153', '154'),
        ('153', '225'),
        ('154', '153'),
        ('154', '155'),
        ('155', '154'),
        ('155', '156'),
        ('156', '155'),
        ('156', '157'),
        ('157', '156'),
        ('157', '158'),
        ('158', '157'),
        ('158', '159'),
        ('159', '158'),
        ('159', '160'),
        ('160', '140'),
        ('160', '159'),
        ('161', '122'),
        ('161', '163'),
        ('161', '167'),
        ('162', '126'),
        ('162', '164'),
        ('162', '171'),
        ('163', '161'),
        ('164', '162'),
        ('165', '103'),
        ('165', '166'),
        ('166', '165'),
        ('166', '167'),
        ('167', '161'),
        ('167', '166'),
        ('167', '168'),
        ('168', '167'),
        ('168', '169'),
        ('169', '168'),
        ('169', '170'),
        ('169', '174'),
        ('170', '169'),
        ('170', '171'),
        ('171', '162'),
        ('171', '170'),
        ('171', '172'),
        ('172', '171'),
        ('172', '173'),
        ('173', '144'),
        ('173', '172'),
        ('174', '169'),
        ('174', '178'),
        ('175', '176'),
        ('175', '182'),
        ('176', '175'),
        ('176', '177'),
        ('177', '176'),
        ('177', '178'),
        ('178', '174'),
        ('178', '177'),
        ('178', '179'),
        ('179', '178'),
        ('179', '180'),
        ('180', '179'),
        ('180', '181'),
        ('181', '180'),
        ('181', '195'),
        ('182', '175'),
        ('182', '183'),
        ('183', '182'),
        ('183', '184'),
        ('184', '183'),
        ('184', '185'),
        ('185', '184'),
        ('185', '186'),
        ('186', '185'),
        ('186', '187'),
        ('186', '208'),
        ('187', '186'),
        ('187', '188'),
        ('188', '187'),
        ('188', '189'),
        ('188', '223'),
        ('189', '188'),
        ('189', '190'),
        ('190', '189'),
        ('190', '191'),
        ('190', '215'),
        ('191', '190'),
        ('191', '192'),
        ('192', '191'),
        ('192', '193'),
        ('193', '192'),
        ('193', '194'),
        ('194', '131'),
        ('194', '193'),
        ('195', '181'),
        ('195', '196'),
        ('196', '195'),
        ('196', '197'),
        ('197', '196'),
        ('197', '198'),
        ('198', '197'),
        ('198', '199'),
        ('199', '198'),
        ('199', '200'),
        ('199', '214'),
        ('200', '199'),
        ('200', '201'),
        ('201', '200'),
        ('201', '202'),
        ('201', '224'),
        ('202', '201'),
        ('202', '203'),
        ('203', '202'),
        ('203', '204'),
        ('203', '221'),
        ('204', '203'),
        ('204', '205'),
        ('205', '204'),
        ('205', '206'),
        ('206', '205'),
        ('206', '207'),
        ('207', '138'),
        ('207', '206'),
        ('208', '186'),
        ('208', '209'),
        ('209', '208'),
        ('209', '210'),
        ('210', '209'),
        ('210', '211'),
        ('211', '210'),
        ('211', '212'),
        ('212', '211'),
        ('212', '213'),
        ('213', '212'),
        ('213', '214'),
        ('214', '199'),
        ('214', '213'),
        ('215', '190'),
        ('215', '216'),
        ('216', '215'),
        ('216', '217'),
        ('217', '216'),
        ('217', '218'),
        ('218', '217'),
        ('218', '219'),
        ('219', '218'),
        ('219', '220'),
        ('220', '219'),
        ('220', '221'),
        ('221', '203'),
        ('221', '220'),
        ('222', '112'),
        ('222', '223'),
        ('223', '188'),
        ('223', '222'),
        ('224', '201'),
        ('224', '225'),
        ('225', '153'),
        ('225', '224'),
    ]

    G.add_edges_from([(u, v, {"cost": 3}) for u, v in edges])

    G['88']['92']['cost'] = 7
    G['91']['92']['cost'] = 7
    G['92']['88']['cost'] = 7
    G['92']['94']['cost'] = 7
    G['92']['96']['cost'] = 7
    G['92']['97']['cost'] = 7
    G['94']['92']['cost'] = 7
    G['96']['92']['cost'] = 7
    G['96']['97']['cost'] = 5
    G['97']['92']['cost'] = 7
    G['97']['96']['cost'] = 5


    specific_areas = {
        '1': Polygon([(2.0, 0.0), (4.0, 0.0), (4.0, 2.0), (2.0, 2.0)]),
        '2': Polygon([(0.0, 0.0), (2.0, 0.0), (2.0, 2.0), (0.0, 2.0)]),
        '3': Polygon([(0.0, 2.0), (2.0, 2.0), (2.0, 4.0), (0.0, 4.0)]),
        '4': Polygon([(2.0, 2.0), (4.0, 2.0), (4.0, 4.0), (2.0, 4.0)]),
        '5': Polygon([(2.0, 4.0), (4.0, 4.0), (4.0, 7.0), (2.0, 7.0)]),
        '6': Polygon([(2.0, 7.0), (5.0, 7.0), (5.0, 10.0), (2.0, 10.0)]),
        '7': Polygon([(5.0, 7.0), (7.0, 7.0), (7.0, 10.0), (5.0, 10.0)]),
        '8': Polygon([(5.0, 10.0), (7.0, 10.0), (7.0, 13.0), (5.0, 13.0)]),
        '9': Polygon([(5.0, 13.0), (7.0, 13.0), (7.0, 15.0), (5.0, 15.0)]),
        '10': Polygon([(5.0, 15.0), (7.0, 15.0), (7.0, 17.0), (5.0, 17.0)]),
        '11': Polygon([(5.0, 17.0), (7.0, 17.0), (7.0, 19.0), (5.0, 19.0)]),
        '12': Polygon([(5.0, 19.0), (7.0, 19.0), (7.0, 21.0), (5.0, 21.0)]),
        '13': Polygon([(5.0, 21.0), (7.0, 21.0), (7.0, 23.0), (5.0, 23.0)]),
        '14': Polygon([(5.0, 23.0), (7.0, 23.0), (7.0, 26.0), (5.0, 26.0)]),
        '15': Polygon([(5.0, 26.0), (7.0, 26.0), (7.0, 29.0), (5.0, 29.0)]),
        '16': Polygon([(5.0, 29.0), (7.0, 29.0), (7.0, 31.0), (5.0, 31.0)]),
        '17': Polygon([(5.0, 31.0), (7.0, 31.0), (7.0, 33.0), (5.0, 33.0)]),
        '18': Polygon([(5.0, 33.0), (7.0, 33.0), (7.0, 36.0), (5.0, 36.0)]),
        '19': Polygon([(5.0, 36.0), (7.0, 36.0), (7.0, 39.0), (5.0, 39.0)]),
        '20': Polygon([(5.0, 39.0), (7.0, 39.0), (7.0, 41.0), (5.0, 41.0)]),
        '21': Polygon([(5.0, 41.0), (7.0, 41.0), (7.0, 43.0), (5.0, 43.0)]),
        '22': Polygon([(5.0, 43.0), (7.0, 43.0), (7.0, 45.0), (5.0, 45.0)]),
        '23': Polygon([(7.0, 7.0), (10.0, 7.0), (10.0, 9.0), (7.0, 9.0)]),
        '24': Polygon([(10.0, 7.0), (12.0, 7.0), (12.0, 9.0), (10.0, 9.0)]),
        '25': Polygon([(10.0, 4.0), (12.0, 4.0), (12.0, 7.0), (10.0, 7.0)]),
        '26': Polygon([(12.0, 4.0), (14.0, 4.0), (14.0, 6.0), (12.0, 6.0)]),
        '27': Polygon([(14.0, 4.0), (16.0, 4.0), (16.0, 6.0), (14.0, 6.0)]),
        '28': Polygon([(16.0, 4.0), (18.0, 4.0), (18.0, 6.0), (16.0, 6.0)]),
        '29': Polygon([(18.0, 4.0), (20.0, 4.0), (20.0, 7.0), (18.0, 7.0)]),
        '30': Polygon([(20.0, 4.0), (22.0, 4.0), (22.0, 6.0), (20.0, 6.0)]),
        '31': Polygon([(22.0, 4.0), (25.0, 4.0), (25.0, 6.0), (22.0, 6.0)]),
        '32': Polygon([(23.0, 6.0), (25.0, 6.0), (25.0, 9.0), (23.0, 9.0)]),
        '33': Polygon([(23.0, 9.0), (25.0, 9.0), (25.0, 11.0), (23.0, 11.0)]),
        '34': Polygon([(23.0, 11.0), (25.0, 11.0), (25.0, 13.0), (23.0, 13.0)]),
        '35': Polygon([(23.0, 13.0), (25.0, 13.0), (25.0, 15.0), (23.0, 15.0)]),
        '36': Polygon([(23.0, 15.0), (25.0, 15.0), (25.0, 17.0), (23.0, 17.0)]),
        '37': Polygon([(23.0, 17.0), (25.0, 17.0), (25.0, 19.0), (23.0, 19.0)]),
        '38': Polygon([(23.0, 19.0), (25.0, 19.0), (25.0, 21.0), (23.0, 21.0)]),
        '39': Polygon([(23.0, 21.0), (25.0, 21.0), (25.0, 23.0), (23.0, 23.0)]),
        '40': Polygon([(23.0, 23.0), (25.0, 23.0), (25.0, 25.0), (23.0, 25.0)]),
        '41': Polygon([(23.0, 25.0), (25.0, 25.0), (25.0, 27.0), (23.0, 27.0)]),
        '42': Polygon([(23.0, 27.0), (25.0, 27.0), (25.0, 29.0), (23.0, 29.0)]),
        '43': Polygon([(23.0, 29.0), (25.0, 29.0), (25.0, 32.0), (23.0, 32.0)]),
        '44': Polygon([(23.0, 32.0), (25.0, 32.0), (25.0, 34.0), (23.0, 34.0)]),
        '45': Polygon([(23.0, 34.0), (25.0, 34.0), (25.0, 37.0), (23.0, 37.0)]),
        '46': Polygon([(23.0, 37.0), (25.0, 37.0), (25.0, 39.0), (23.0, 39.0)]),
        '47': Polygon([(23.0, 39.0), (25.0, 39.0), (25.0, 41.0), (23.0, 41.0)]),
        '48': Polygon([(23.0, 41.0), (25.0, 41.0), (25.0, 43.0), (23.0, 43.0)]),
        '49': Polygon([(23.0, 43.0), (25.0, 43.0), (25.0, 45.0), (23.0, 45.0)]),
        '50': Polygon([(23.0, 2.0), (25.0, 2.0), (25.0, 4.0), (23.0, 4.0)]),
        '51': Polygon([(25.0, 2.0), (28.0, 2.0), (28.0, 4.0), (25.0, 4.0)]),
        '52': Polygon([(28.0, 2.0), (30.0, 2.0), (30.0, 4.0), (28.0, 4.0)]),
        '53': Polygon([(28.0, 0.0), (30.0, 0.0), (30.0, 2.0), (28.0, 2.0)]),
        '54': Polygon([(25.0, 0.0), (28.0, 0.0), (28.0, 2.0), (25.0, 2.0)]),
        '55': Polygon([(23.0, 0.0), (25.0, 0.0), (25.0, 2.0), (23.0, 2.0)]),
        '56': Polygon([(10.0, 9.0), (12.0, 9.0), (12.0, 11.0), (10.0, 11.0)]),
        '57': Polygon([(10.0, 11.0), (13.0, 11.0), (13.0, 13.0), (10.0, 13.0)]),
        '58': Polygon([(10.0, 13.0), (13.0, 13.0), (13.0, 15.0), (10.0, 15.0)]),
        '59': Polygon([(10.0, 15.0), (13.0, 15.0), (13.0, 17.0), (10.0, 17.0)]),
        '60': Polygon([(10.0, 17.0), (13.0, 17.0), (13.0, 19.0), (10.0, 19.0)]),
        '61': Polygon([(10.0, 19.0), (13.0, 19.0), (13.0, 21.0), (10.0, 21.0)]),
        '62': Polygon([(10.0, 21.0), (13.0, 21.0), (13.0, 23.0), (10.0, 23.0)]),
        '63': Polygon([(13.0, 11.0), (15.0, 11.0), (15.0, 13.0), (13.0, 13.0)]),
        '64': Polygon([(15.0, 11.0), (17.0, 11.0), (17.0, 13.0), (15.0, 13.0)]),
        '65': Polygon([(13.0, 19.0), (15.0, 19.0), (15.0, 21.0), (13.0, 21.0)]),
        '66': Polygon([(15.0, 19.0), (17.0, 19.0), (17.0, 21.0), (15.0, 21.0)]),
        '67': Polygon([(18.0, 7.0), (20.0, 7.0), (20.0, 9.0), (18.0, 9.0)]),
        '68': Polygon([(18.0, 9.0), (20.0, 9.0), (20.0, 11.0), (18.0, 11.0)]),
        '69': Polygon([(17.0, 11.0), (20.0, 11.0), (20.0, 13.0), (17.0, 13.0)]),
        '70': Polygon([(17.0, 13.0), (20.0, 13.0), (20.0, 15.0), (17.0, 15.0)]),
        '71': Polygon([(17.0, 15.0), (20.0, 15.0), (20.0, 17.0), (17.0, 17.0)]),
        '72': Polygon([(17.0, 17.0), (20.0, 17.0), (20.0, 19.0), (17.0, 19.0)]),
        '73': Polygon([(17.0, 19.0), (20.0, 19.0), (20.0, 21.0), (17.0, 21.0)]),
        '74': Polygon([(17.0, 21.0), (20.0, 21.0), (20.0, 23.0), (17.0, 23.0)]),
        '75': Polygon([(7.0, 24.0), (9.0, 24.0), (9.0, 26.0), (7.0, 26.0)]),
        '76': Polygon([(9.0, 23.0), (11.0, 23.0), (11.0, 26.0), (9.0, 26.0)]),
        '77': Polygon([(11.0, 23.0), (13.0, 23.0), (13.0, 25.0), (11.0, 25.0)]),
        '78': Polygon([(13.0, 23.0), (17.0, 23.0), (17.0, 25.0), (13.0, 25.0)]),
        '79': Polygon([(17.0, 23.0), (20.0, 23.0), (20.0, 25.0), (17.0, 25.0)]),
        '80': Polygon([(20.0, 23.0), (23.0, 23.0), (23.0, 25.0), (20.0, 25.0)]),
        '81': Polygon([(7.0, 43.0), (10.0, 43.0), (10.0, 45.0), (7.0, 45.0)]),
        '82': Polygon([(10.0, 43.0), (15.0, 43.0), (15.0, 48.0), (10.0, 48.0)]),
        '83': Polygon([(15.0, 43.0), (20.0, 43.0), (20.0, 48.0), (15.0, 48.0)]),
        '84': Polygon([(12.0, 41.0), (18.0, 41.0), (18.0, 43.0), (12.0, 43.0)]),
        '85': Polygon([(20.0, 43.0), (23.0, 43.0), (23.0, 45.0), (20.0, 45.0)]),
        '86': Polygon([(7.0, 26.0), (11.0, 26.0), (11.0, 29.0), (7.0, 29.0)]),
        '87': Polygon([(7.0, 29.0), (11.0, 29.0), (11.0, 32.0), (7.0, 32.0)]),
        '88': Polygon([(7.0, 32.0), (11.0, 32.0), (11.0, 36.0), (7.0, 36.0)]),
        '89': Polygon([(7.0, 36.0), (11.0, 36.0), (11.0, 38.0), (7.0, 38.0)]),
        '90': Polygon([(7.0, 38.0), (11.0, 38.0), (11.0, 41.0), (7.0, 41.0)]),
        '91': Polygon([(11.0, 25.0), (18.0, 25.0), (18.0, 29.0), (11.0, 29.0)]),
        '92': Polygon([(11.0, 29.0), (18.0, 29.0), (18.0, 37.0), (11.0, 37.0)]),
        '94': Polygon([(11.0, 37.0), (18.0, 37.0), (18.0, 41.0), (11.0, 41.0)]),
        '95': Polygon([(18.0, 25.0), (23.0, 25.0), (23.0, 29.0), (18.0, 29.0)]),
        '96': Polygon([(18.0, 29.0), (23.0, 29.0), (23.0, 33.0), (18.0, 33.0)]),
        '97': Polygon([(18.0, 33.0), (23.0, 33.0), (23.0, 37.0), (18.0, 37.0)]),
        '98': Polygon([(18.0, 37.0), (23.0, 37.0), (23.0, 41.0), (18.0, 41.0)]),
        '99': Polygon([(18.0, 41.0), (23.0, 41.0), (23.0, 43.0), (18.0, 43.0)]),
        '100': Polygon([(0.0, -40.0), (2.0, -40.0), (2.0, -38.0), (0.0, -38.0)]),
        '101': Polygon([(0.0, -38.0), (2.0, -38.0), (2.0, -36.0), (0.0, -36.0)]),
        '102': Polygon([(0.0, -36.0), (2.0, -36.0), (2.0, -34.0), (0.0, -34.0)]),
        '103': Polygon([(0.0, -34.0), (2.0, -34.0), (2.0, -32.0), (0.0, -32.0)]),
        '104': Polygon([(0.0, -32.0), (2.0, -32.0), (2.0, -30.0), (0.0, -30.0)]),
        '105': Polygon([(0.0, -30.0), (2.0, -30.0), (2.0, -28.0), (0.0, -28.0)]),
        '106': Polygon([(0.0, -28.0), (2.0, -28.0), (2.0, -26.0), (0.0, -26.0)]),
        '107': Polygon([(0.0, -26.0), (2.0, -26.0), (2.0, -24.0), (0.0, -24.0)]),
        '108': Polygon([(0.0, -24.0), (2.0, -24.0), (2.0, -22.0), (0.0, -22.0)]),
        '109': Polygon([(0.0, -22.0), (2.0, -22.0), (2.0, -20.0), (0.0, -20.0)]),
        '110': Polygon([(0.0, -20.0), (2.0, -20.0), (2.0, -18.0), (0.0, -18.0)]),
        '111': Polygon([(0.0, -18.0), (2.0, -18.0), (2.0, -16.0), (0.0, -16.0)]),
        '112': Polygon([(0.0, -16.0), (2.0, -16.0), (2.0, -14.0), (0.0, -14.0)]),
        '113': Polygon([(0.0, -14.0), (2.0, -14.0), (2.0, -12.0), (0.0, -12.0)]),
        '114': Polygon([(0.0, -12.0), (2.0, -12.0), (2.0, -10.0), (0.0, -10.0)]),
        '115': Polygon([(0.0, -10.0), (2.0, -10.0), (2.0, -8.0), (0.0, -8.0)]),
        '116': Polygon([(0.0, -8.0), (2.0, -8.0), (2.0, -6.0), (0.0, -6.0)]),
        '117': Polygon([(0.0, -6.0), (2.0, -6.0), (2.0, -4.0), (0.0, -4.0)]),
        '118': Polygon([(0.0, -4.0), (2.0, -4.0), (2.0, -2.0), (0.0, -2.0)]),
        '119': Polygon([(0.0, -2.0), (2.0, -2.0), (2.0, 0.0), (0.0, 0.0)]),
        '120': Polygon([(2.0, -40.0), (4.0, -40.0), (4.0, -39.0), (2.0, -39.0)]),
        '121': Polygon([(4.0, -40.0), (7.0, -40.0), (7.0, -39.0), (4.0, -39.0)]),
        '122': Polygon([(7.0, -40.0), (11.0, -40.0), (11.0, -39.0), (7.0, -39.0)]),
        '123': Polygon([(11.0, -40.0), (14.0, -40.0), (14.0, -39.0), (11.0, -39.0)]),
        '124': Polygon([(14.0, -40.0), (16.0, -40.0), (16.0, -39.0), (14.0, -39.0)]),
        '125': Polygon([(16.0, -40.0), (19.0, -40.0), (19.0, -39.0), (16.0, -39.0)]),
        '126': Polygon([(19.0, -40.0), (23.0, -40.0), (23.0, -39.0), (19.0, -39.0)]),
        '127': Polygon([(23.0, -40.0), (26.0, -40.0), (26.0, -39.0), (23.0, -39.0)]),
        '128': Polygon([(26.0, -40.0), (28.0, -40.0), (28.0, -39.0), (26.0, -39.0)]),
        '129': Polygon([(2.0, -2.0), (4.0, -2.0), (4.0, 0.0), (2.0, 0.0)]),
        '130': Polygon([(4.0, -2.0), (6.0, -2.0), (6.0, 0.0), (4.0, 0.0)]),
        '131': Polygon([(6.0, -2.0), (8.0, -2.0), (8.0, 0.0), (6.0, 0.0)]),
        '132': Polygon([(8.0, -2.0), (10.0, -2.0), (10.0, 0.0), (8.0, 0.0)]),
        '133': Polygon([(10.0, -2.0), (12.0, -2.0), (12.0, 0.0), (10.0, 0.0)]),
        '134': Polygon([(12.0, -2.0), (14.0, -2.0), (14.0, 0.0), (12.0, 0.0)]),
        '135': Polygon([(14.0, -2.0), (16.0, -2.0), (16.0, 0.0), (14.0, 0.0)]),
        '136': Polygon([(16.0, -2.0), (18.0, -2.0), (18.0, 0.0), (16.0, 0.0)]),
        '137': Polygon([(18.0, -2.0), (20.0, -2.0), (20.0, 0.0), (18.0, 0.0)]),
        '138': Polygon([(20.0, -2.0), (23.0, -2.0), (23.0, 0.0), (20.0, 0.0)]),
        '139': Polygon([(23.0, -2.0), (26.0, -2.0), (26.0, 0.0), (23.0, 0.0)]),
        '140': Polygon([(26.0, -2.0), (28.0, -2.0), (28.0, 0.0), (26.0, 0.0)]),
        '141': Polygon([(28.0, -40.0), (30.0, -40.0), (30.0, -38.0), (28.0, -38.0)]),
        '142': Polygon([(28.0, -38.0), (30.0, -38.0), (30.0, -36.0), (28.0, -36.0)]),
        '143': Polygon([(28.0, -36.0), (30.0, -36.0), (30.0, -34.0), (28.0, -34.0)]),
        '144': Polygon([(28.0, -34.0), (30.0, -34.0), (30.0, -32.0), (28.0, -32.0)]),
        '145': Polygon([(28.0, -32.0), (30.0, -32.0), (30.0, -30.0), (28.0, -30.0)]),
        '146': Polygon([(28.0, -30.0), (30.0, -30.0), (30.0, -28.0), (28.0, -28.0)]),
        '147': Polygon([(28.0, -28.0), (30.0, -28.0), (30.0, -26.0), (28.0, -26.0)]),
        '148': Polygon([(28.0, -26.0), (30.0, -26.0), (30.0, -24.0), (28.0, -24.0)]),
        '149': Polygon([(28.0, -24.0), (30.0, -24.0), (30.0, -22.0), (28.0, -22.0)]),
        '150': Polygon([(28.0, -22.0), (30.0, -22.0), (30.0, -20.0), (28.0, -20.0)]),
        '151': Polygon([(28.0, -20.0), (30.0, -20.0), (30.0, -18.0), (28.0, -18.0)]),
        '152': Polygon([(28.0, -18.0), (30.0, -18.0), (30.0, -16.0), (28.0, -16.0)]),
        '153': Polygon([(28.0, -16.0), (30.0, -16.0), (30.0, -14.0), (28.0, -14.0)]),
        '154': Polygon([(28.0, -14.0), (30.0, -14.0), (30.0, -12.0), (28.0, -12.0)]),
        '155': Polygon([(28.0, -12.0), (30.0, -12.0), (30.0, -10.0), (28.0, -10.0)]),
        '156': Polygon([(28.0, -10.0), (30.0, -10.0), (30.0, -8.0), (28.0, -8.0)]),
        '157': Polygon([(28.0, -8.0), (30.0, -8.0), (30.0, -6.0), (28.0, -6.0)]),
        '158': Polygon([(28.0, -6.0), (30.0, -6.0), (30.0, -4.0), (28.0, -4.0)]),
        '159': Polygon([(28.0, -4.0), (30.0, -4.0), (30.0, -2.0), (28.0, -2.0)]),
        '160': Polygon([(28.0, -2.0), (30.0, -2.0), (30.0, 0.0), (28.0, 0.0)]),
        '161': Polygon([(7.0, -39.0), (10.5, -39.0), (10.5, -34.0), (7.0, -34.0)]),
        '162': Polygon([(19.5, -39.0), (23.0, -39.0), (23.0, -34.0), (19.5, -34.0)]),
        '163': Polygon([(5.0, -37.5), (7.0, -37.5), (7.0, -35.5), (5.0, -35.5)]),
        '164': Polygon([(23.0, -37.5), (25.0, -37.5), (25.0, -35.5), (23.0, -35.5)]),
        '165': Polygon([(2.0, -34.0), (4.0, -34.0), (4.0, -32.0), (2.0, -32.0)]),
        '166': Polygon([(4.0, -34.0), (7.0, -34.0), (7.0, -32.0), (4.0, -32.0)]),
        '167': Polygon([(7.0, -34.0), (11.0, -34.0), (11.0, -32.0), (7.0, -32.0)]),
        '168': Polygon([(11.0, -34.0), (14.0, -34.0), (14.0, -32.0), (11.0, -32.0)]),
        '169': Polygon([(14.0, -34.0), (16.0, -34.0), (16.0, -32.0), (14.0, -32.0)]),
        '170': Polygon([(16.0, -34.0), (19.0, -34.0), (19.0, -32.0), (16.0, -32.0)]),
        '171': Polygon([(19.0, -34.0), (23.0, -34.0), (23.0, -32.0), (19.0, -32.0)]),
        '172': Polygon([(23.0, -34.0), (26.0, -34.0), (26.0, -32.0), (23.0, -32.0)]),
        '173': Polygon([(26.0, -34.0), (28.0, -34.0), (28.0, -32.0), (26.0, -32.0)]),
        '174': Polygon([(14.0, -32.0), (16.0, -32.0), (16.0, -30.0), (14.0, -30.0)]),
        '175': Polygon([(7.0, -30.0), (9.0, -30.0), (9.0, -29.0), (7.0, -29.0)]),
        '176': Polygon([(9.0, -30.0), (11.0, -30.0), (11.0, -29.0), (9.0, -29.0)]),
        '177': Polygon([(11.0, -30.0), (13.0, -30.0), (13.0, -29.0), (11.0, -29.0)]),
        '178': Polygon([(13.0, -30.0), (17.0, -30.0), (17.0, -29.0), (13.0, -29.0)]),
        '179': Polygon([(17.0, -30.0), (19.0, -30.0), (19.0, -29.0), (17.0, -29.0)]),
        '180': Polygon([(19.0, -30.0), (21.0, -30.0), (21.0, -29.0), (19.0, -29.0)]),
        '181': Polygon([(21.0, -30.0), (23.0, -30.0), (23.0, -29.0), (21.0, -29.0)]),
        '182': Polygon([(7.0, -29.0), (8.0, -29.0), (8.0, -27.0), (7.0, -27.0)]),
        '183': Polygon([(7.0, -27.0), (8.0, -27.0), (8.0, -25.0), (7.0, -25.0)]),
        '184': Polygon([(7.0, -25.0), (8.0, -25.0), (8.0, -23.0), (7.0, -23.0)]),
        '185': Polygon([(7.0, -23.0), (8.0, -23.0), (8.0, -21.0), (7.0, -21.0)]),
        '186': Polygon([(7.0, -21.0), (8.0, -21.0), (8.0, -19.0), (7.0, -19.0)]),
        '187': Polygon([(7.0, -19.0), (8.0, -19.0), (8.0, -17.0), (7.0, -17.0)]),
        '188': Polygon([(7.0, -17.0), (8.0, -17.0), (8.0, -15.0), (7.0, -15.0)]),
        '189': Polygon([(7.0, -15.0), (8.0, -15.0), (8.0, -13.0), (7.0, -13.0)]),
        '190': Polygon([(7.0, -13.0), (8.0, -13.0), (8.0, -11.0), (7.0, -11.0)]),
        '191': Polygon([(7.0, -11.0), (8.0, -11.0), (8.0, -9.0), (7.0, -9.0)]),
        '192': Polygon([(7.0, -9.0), (8.0, -9.0), (8.0, -7.0), (7.0, -7.0)]),
        '193': Polygon([(7.0, -7.0), (8.0, -7.0), (8.0, -5.0), (7.0, -5.0)]),
        '194': Polygon([(7.0, -5.0), (8.0, -5.0), (8.0, -2.0), (7.0, -2.0)]),
        '195': Polygon([(22.0, -29.0), (23.0, -29.0), (23.0, -27.0), (22.0, -27.0)]),
        '196': Polygon([(22.0, -27.0), (23.0, -27.0), (23.0, -25.0), (22.0, -25.0)]),
        '197': Polygon([(22.0, -25.0), (23.0, -25.0), (23.0, -23.0), (22.0, -23.0)]),
        '198': Polygon([(22.0, -23.0), (23.0, -23.0), (23.0, -21.0), (22.0, -21.0)]),
        '199': Polygon([(22.0, -21.0), (23.0, -21.0), (23.0, -19.0), (22.0, -19.0)]),
        '200': Polygon([(22.0, -19.0), (23.0, -19.0), (23.0, -17.0), (22.0, -17.0)]),
        '201': Polygon([(22.0, -17.0), (23.0, -17.0), (23.0, -15.0), (22.0, -15.0)]),
        '202': Polygon([(22.0, -15.0), (23.0, -15.0), (23.0, -13.0), (22.0, -13.0)]),
        '203': Polygon([(22.0, -13.0), (23.0, -13.0), (23.0, -11.0), (22.0, -11.0)]),
        '204': Polygon([(22.0, -11.0), (23.0, -11.0), (23.0, -9.0), (22.0, -9.0)]),
        '205': Polygon([(22.0, -9.0), (23.0, -9.0), (23.0, -7.0), (22.0, -7.0)]),
        '206': Polygon([(22.0, -7.0), (23.0, -7.0), (23.0, -5.0), (22.0, -5.0)]),
        '207': Polygon([(22.0, -5.0), (23.0, -5.0), (23.0, -2.0), (22.0, -2.0)]),
        '208': Polygon([(8.0, -21.0), (10.0, -21.0), (10.0, -20.0), (8.0, -20.0)]),
        '209': Polygon([(10.0, -21.0), (12.0, -21.0), (12.0, -20.0), (10.0, -20.0)]),
        '210': Polygon([(12.0, -21.0), (14.0, -21.0), (14.0, -20.0), (12.0, -20.0)]),
        '211': Polygon([(14.0, -21.0), (16.0, -21.0), (16.0, -20.0), (14.0, -20.0)]),
        '212': Polygon([(16.0, -21.0), (18.0, -21.0), (18.0, -20.0), (16.0, -20.0)]),
        '213': Polygon([(18.0, -21.0), (20.0, -21.0), (20.0, -20.0), (18.0, -20.0)]),
        '214': Polygon([(20.0, -21.0), (22.0, -21.0), (22.0, -20.0), (20.0, -20.0)]),
        '215': Polygon([(8.0, -12.0), (10.0, -12.0), (10.0, -11.0), (8.0, -11.0)]),
        '216': Polygon([(10.0, -12.0), (12.0, -12.0), (12.0, -11.0), (10.0, -11.0)]),
        '217': Polygon([(12.0, -12.0), (14.0, -12.0), (14.0, -11.0), (12.0, -11.0)]),
        '218': Polygon([(14.0, -12.0), (16.0, -12.0), (16.0, -11.0), (14.0, -11.0)]),
        '219': Polygon([(16.0, -12.0), (18.0, -12.0), (18.0, -11.0), (16.0, -11.0)]),
        '220': Polygon([(18.0, -12.0), (20.0, -12.0), (20.0, -11.0), (18.0, -11.0)]),
        '221': Polygon([(20.0, -12.0), (22.0, -12.0), (22.0, -11.0), (20.0, -11.0)]),
        '222': Polygon([(2.0, -15.0), (4.5, -15.0), (4.5, -16.0), (2.0, -16.0)]),
        '223': Polygon([(4.5, -15.0), (7.0, -15.0), (7.0, -16.0), (4.5, -16.0)]),
        '224': Polygon([(23.0, -15.0), (25.5, -15.0), (25.5, -16.0), (23.0, -16.0)]),
        '225': Polygon([(25.5, -15.0), (28.0, -15.0), (28.0, -16.0), (25.5, -16.0)]),

    }

    first_floor = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18',
                   '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31', '32', '33', '34', '35',
                   '36', '37', '38', '39', '40', '41', '42', '43', '44', '45', '46', '47', '48', '49', '50', '51', '52',
                   '53', '54', '55', '56', '57', '58', '59', '60', '61', '62', '63', '64', '65', '66', '67', '68', '69',
                   '70', '71', '72', '73', '74', '75', '76', '77', '78', '79', '80', '81', '82', '83', '84', '85', '86',
                   '87', '88', '89', '90', '91', '92', '93', '94', '95', '96', '97', '98', '99']

    zero_floor = ['1', '55', '100', '101', '102', '103', '104', '105', '106', '107', '108', '109', '110', '111', '112',
                  '113', '114', '115', '116', '117', '118', '119', '120', '121', '122', '123', '124', '125', '126',
                  '127', '128', '129', '130', '131', '132', '133', '134', '135', '136', '137', '138', '139', '140',
                  '141', '142', '143', '144', '145', '146', '147', '148', '149', '150', '151', '152', '153', '154',
                  '155', '156', '157', '158', '159', '160', '161', '162', '163', '164', '165', '166', '167', '168',
                  '169', '170', '171', '172', '173', '174', '175', '176', '177', '178', '179', '180', '181', '182',
                  '183', '184', '185', '186', '187', '188', '189', '190', '191', '192', '193', '194', '195', '196',
                  '197', '198', '199', '200', '201', '202', '203', '204', '205', '206', '207', '208', '209', '210',
                  '211', '212', '213', '214', '215', '216', '217', '218', '219', '220', '221', '222', '223', '224',
                  '225']

    G1 = G.subgraph(first_floor)
    G2 = G.subgraph(zero_floor)

    return Environment(
        name="Cruise_Ship",
        graph = G,
        floors={0:G2, 1: G1},
        floor_number=2,
        floor_connecting_nodes={(1,0): ['1', '55'], (0,1): ['1', '55']},
        complete_area=complete_area,
        obstacles=obstacles,
        waypoints=waypoints,
        sources=["82", "83"],
        targets=["163", "164"],
        specific_areas=specific_areas
    )

def get_mall():
    complete_area = Polygon([(0, 0), (0, 32), (20, 32), (20, 0)])
    obstacles = [
        Polygon([(0, 2), (0, 32), (20, 32), (20, 25), (19, 25), (19, 29), (7, 29), (7, 30), (5, 30), (3, 30), (3, 2)]),
        Polygon([(17, 2), (17, 25), (20, 25), (20, 2)]),
        Polygon([(6, 0), (6, 2), (14, 2), (14, 0)]),
        Polygon([(4, 5), (4, 13), (9, 13), (9, 5)]),
        Polygon([(4, 14), (4, 19), (9, 19), (9, 14)]),
        Polygon([(4, 20), (4, 26), (9, 26), (9, 20)]),
        Polygon([(11, 6), (11, 15), (16, 15), (16, 6)]),
        Polygon([(11, 16), (11, 25), (16, 25), (16, 16)]),
        Polygon([(12, 3), (12, 5), (15, 5), (15, 3)]),
        Polygon([(1, 1), (1, 1.1), (3.1, 1.1), (3.1, 0), (3, 0), (3, 1)]),
        Polygon([(19, 1), (19, 1.1), (16.9, 1.1), (16.9, 0), (17, 0), (17, 1)]),
        Polygon([(10, 26), (10, 28), (13, 28), (13, 26)]),
        Polygon([(15, 26), (15, 28), (18, 28), (18, 26)]),
        Polygon([(15, 26), (15, 28), (18, 28), (18, 26)]),
        Polygon([(4, 27), (4, 28), (7, 28), (7, 27)]),
    ]

    waypoints = {
        '1': ([2.25, 0.5], 0.5),
        '2': ([0.75, 0.5], 0.5),
        '3': ([0.75, 1.5], 0.5),
        '4': ([2.25, 1.5], 0.5),
        '5': ([4.5, 1.0], 1.5),
        '6': ([4.5, 3.5], 1.5),
        '7': ([7.5, 3.5], 1.5),
        '8': ([10.5, 3.5], 1.5),
        '9': ([13.0, 2.5], 0.5),
        '10': ([15.5, 1.5], 1.75),
        '11': ([16.0, 4.0], 1.0),
        '12': ([17.75, 0.5], 0.5),
        '13': ([19.25, 0.5], 0.5),
        '14': ([19.25, 1.5], 0.5),
        '15': ([17.75, 1.5], 0.5),
        '16': ([3.5, 6.5], 0.5),
        '17': ([3.5, 9.5], 0.5),
        '18': ([3.5, 12.5], 0.5),
        '19': ([3.5, 15.5], 0.5),
        '20': ([3.5, 18.5], 0.5),
        '21': ([3.5, 21.5], 0.5),
        '22': ([3.5, 25.0], 0.5),
        '23': ([3.5, 28.5], 0.5),
        '24': ([10.5, 5.5], 0.5),
        '25': ([13.5, 5.5], 0.5),
        '26': ([16.0, 5.5], 0.5),
        '27': ([10.0, 7.5], 0.5),
        '28': ([10.0, 10.5], 0.5),
        '29': ([10.0, 13.5], 0.5),
        '30': ([10.0, 16.5], 0.5),
        '31': ([10.0, 19.5], 0.5),
        '32': ([10.0, 22.5], 0.5),
        '33': ([10.0, 25.0], 0.5),
        '34': ([16.5, 7.5], 0.5),
        '35': ([16.5, 10.5], 0.5),
        '36': ([16.5, 13.5], 0.5),
        '37': ([16.5, 16.5], 0.5),
        '38': ([16.5, 19.5], 0.5),
        '39': ([16.5, 23.0], 0.5),
        '40': ([5.25, 13.5], 0.5),
        '41': ([7.75, 13.5], 0.5),
        '42': ([5.25, 19.5], 0.5),
        '43': ([7.75, 19.5], 0.5),
        '44': ([5.5, 26.5], 0.5),
        '45': ([8.5, 27.0], 0.5),
        '46': ([5.5, 29.0], 0.5),
        '47': ([8.5, 28.5], 0.5),
        '48': ([11.5, 28.5], 0.5),
        '49': ([14.0, 28.5], 0.5),
        '50': ([16.0, 28.5], 0.5),
        '51': ([18.0, 28.5], 0.5),
        '52': ([12.0, 25.5], 0.5),
        '53': ([14.0, 25.5], 0.5),
        '54': ([16.0, 25.5], 0.5),
        '55': ([18.0, 25.5], 0.5),
        '56': ([14.0, 27.0], 0.5),
        '57': ([18.5, 27.0], 0.5),
        '58': ([12.25, 15.5], 0.5),
        '59': ([14.75, 15.5], 0.5),

    }

    # Create the graph
    G = nx.DiGraph()

    nodes = {
        "1": 0.0,
        "2": 0.0,
        "3": 0.0,
        "4": 0.0,
        "5": 0.0,
        "6": 0.0,
        "7": 0.0,
        "8": 0.0,
        "9": 0.0,
        "10": 0.0,
        "11": 0.0,
        "12": 0.0,
        "13": 0.0,
        "14": 0.0,
        "15": 0.0,
        "16": 0.0,
        "17": 0.0,
        "18": 0.0,
        "19": 0.0,
        "20": 0.0,
        "21": 0.0,
        "22": 0.0,
        "23": 0.0,
        "24": 0.0,
        "25": 0.0,
        "26": 0.0,
        "27": 0.0,
        "28": 0.0,
        "29": 0.0,
        "30": 0.0,
        "31": 0.0,
        "32": 0.0,
        "33": 0.0,
        "34": 0.0,
        "35": 0.0,
        "36": 0.0,
        "37": 0.0,
        "38": 0.0,
        "39": 0.0,
        "40": 0.0,
        "41": 0.0,
        "42": 0.0,
        "43": 0.0,
        "44": 0.0,
        "45": 0.0,
        "46": 0.0,
        "47": 0.0,
        "48": 0.0,
        "49": 0.0,
        "50": 0.0,
        "51": 0.0,
        "52": 0.0,
        "53": 0.0,
        "54": 0.0,
        "55": 0.0,
        "56": 0.0,
        "57": 0.0,
        "58": 0.0,
        "59": 0.0,
    }

    for node, risk in nodes.items():
        G.add_node(node, risk=risk, blocked=False, is_stairs=False, floor=0)

    G.nodes["1"]["is_stairs"] = True
    G.nodes["2"]["is_stairs"] = True
    G.nodes["3"]["is_stairs"] = True
    G.nodes["4"]["is_stairs"] = True
    G.nodes["12"]["is_stairs"] = True
    G.nodes["13"]["is_stairs"] = True
    G.nodes["14"]["is_stairs"] = True
    G.nodes["15"]["is_stairs"] = True

    edges = [
        ('1', '2'),
        ('2', '1'),
        ('2', '3'),
        ('3', '2'),
        ('3', '4'),
        ('4', '3'),
        ('4', '5'),
        ('5', '4'),
        ('5', '6'),
        ('6', '5'),
        ('6', '7'),
        ('6', '16'),
        ('7', '6'),
        ('7', '8'),
        ('8', '7'),
        ('8', '9'),
        ('8', '24'),
        ('9', '8'),
        ('9', '10'),
        ('10', '9'),
        ('10', '11'),
        ('10', '15'),
        ('11', '10'),
        ('11', '26'),
        ('12', '13'),
        ('13', '12'),
        ('13', '14'),
        ('14', '13'),
        ('14', '15'),
        ('15', '10'),
        ('15', '14'),
        ('16', '6'),
        ('16', '17'),
        ('17', '16'),
        ('17', '18'),
        ('18', '17'),
        ('18', '19'),
        ('18', '40'),
        ('19', '18'),
        ('19', '20'),
        ('20', '19'),
        ('20', '21'),
        ('20', '42'),
        ('21', '20'),
        ('21', '22'),
        ('22', '21'),
        ('22', '23'),
        ('22', '44'),
        ('23', '22'),
        ('23', '46'),
        ('24', '8'),
        ('24', '25'),
        ('24', '27'),
        ('25', '24'),
        ('25', '26'),
        ('26', '11'),
        ('26', '25'),
        ('26', '34'),
        ('27', '24'),
        ('27', '28'),
        ('28', '27'),
        ('28', '29'),
        ('29', '28'),
        ('29', '30'),
        ('29', '41'),
        ('30', '29'),
        ('30', '31'),
        ('30', '58'),
        ('31', '30'),
        ('31', '32'),
        ('31', '43'),
        ('32', '31'),
        ('32', '33'),
        ('33', '32'),
        ('33', '45'),
        ('33', '52'),
        ('34', '26'),
        ('34', '35'),
        ('35', '34'),
        ('35', '36'),
        ('36', '35'),
        ('36', '37'),
        ('37', '36'),
        ('37', '38'),
        ('37', '59'),
        ('38', '37'),
        ('38', '39'),
        ('39', '38'),
        ('39', '54'),
        ('40', '18'),
        ('40', '41'),
        ('41', '29'),
        ('41', '40'),
        ('42', '20'),
        ('42', '43'),
        ('43', '31'),
        ('43', '42'),
        ('44', '22'),
        ('44', '45'),
        ('45', '33'),
        ('45', '44'),
        ('45', '47'),
        ('46', '23'),
        ('46', '47'),
        ('47', '45'),
        ('47', '46'),
        ('47', '48'),
        ('48', '47'),
        ('48', '49'),
        ('49', '48'),
        ('49', '50'),
        ('49', '56'),
        ('50', '49'),
        ('50', '51'),
        ('51', '50'),
        ('51', '57'),
        ('52', '33'),
        ('52', '53'),
        ('53', '52'),
        ('53', '54'),
        ('53', '56'),
        ('54', '39'),
        ('54', '53'),
        ('54', '55'),
        ('55', '54'),
        ('55', '57'),
        ('56', '49'),
        ('56', '53'),
        ('57', '51'),
        ('57', '55'),
        ('58', '30'),
        ('58', '59'),
        ('59', '37'),
        ('59', '58'),
    ]

    G.add_edges_from([(u, v, {"cost": 3}) for u, v in edges])

    specific_areas = {
        '1': Polygon([(3.0, 0.0), (1.5, 0.0), (1.5, 1.0), (3.0, 1.0)]),
        '2': Polygon([(1.5, 0.0), (0.0, 0.0), (0.0, 1.0), (1.5, 1.0)]),
        '3': Polygon([(1.5, 1.0), (0.0, 1.0), (0.0, 2.0), (1.5, 2.0)]),
        '4': Polygon([(3.0, 1.0), (1.5, 1.0), (1.5, 2.0), (3.0, 2.0)]),
        '5': Polygon([(3.0, 0.0), (3.0, 2.0), (6.0, 2.0), (6.0, 0.0)]),
        '6': Polygon([(3.0, 2.0), (3.0, 5.0), (6.0, 5.0), (6.0, 2.0)]),
        '7': Polygon([(6.0, 2.0), (6.0, 5.0), (9.0, 5.0), (9.0, 2.0)]),
        '8': Polygon([(9.0, 2.0), (9.0, 5.0), (12.0, 5.0), (12.0, 2.0)]),
        '9': Polygon([(12.0, 2.0), (12.0, 3.0), (14.0, 3.0), (14.0, 2.0)]),
        '10': Polygon([(14.0, 0.0), (14.0, 3.0), (17.0, 3.0), (17.0, 0.0)]),
        '11': Polygon([(15.0, 3.0), (15.0, 5.0), (17.0, 5.0), (17.0, 3.0)]),
        '12': Polygon([(17.0, 0.0), (18.5, 0.0), (18.5, 1.0), (17.0, 1.0)]),
        '13': Polygon([(18.5, 0.0), (20.0, 0.0), (20.0, 1.0), (18.5, 1.0)]),
        '14': Polygon([(18.5, 1.0), (20.0, 1.0), (20.0, 2.0), (18.5, 2.0)]),
        '15': Polygon([(17.0, 1.0), (18.5, 1.0), (18.5, 2.0), (17.0, 2.0)]),
        '16': Polygon([(3.0, 5.0), (3.0, 8.0), (4.0, 8.0), (4.0, 5.0)]),
        '17': Polygon([(3.0, 8.0), (4.0, 8.0), (4.0, 11.0), (3.0, 11.0)]),
        '18': Polygon([(3.0, 11.0), (4.0, 11.0), (4.0, 14.0), (3.0, 14.0)]),
        '19': Polygon([(3.0, 14.0), (4.0, 14.0), (4.0, 17.0), (3.0, 17.0)]),
        '20': Polygon([(3.0, 17.0), (4.0, 17.0), (4.0, 20.0), (3.0, 20.0)]),
        '21': Polygon([(3.0, 20.0), (4.0, 20.0), (4.0, 23.0), (3.0, 23.0)]),
        '22': Polygon([(3.0, 23.0), (4.0, 23.0), (4.0, 27.0), (3.0, 27.0)]),
        '23': Polygon([(3.0, 27.0), (4.0, 27.0), (4.0, 30.0), (3.0, 30.0)]),
        '24': Polygon([(9.0, 5.0), (9.0, 6.0), (12.0, 6.0), (12.0, 5.0)]),
        '25': Polygon([(12.0, 5.0), (12.0, 6.0), (15.0, 6.0), (15.0, 5.0)]),
        '26': Polygon([(15.0, 5.0), (15.0, 6.0), (17.0, 6.0), (17.0, 5.0)]),
        '27': Polygon([(9.0, 6.0), (9.0, 9.0), (11.0, 9.0), (11.0, 6.0)]),
        '28': Polygon([(9.0, 9.0), (11.0, 9.0), (11.0, 12.0), (9.0, 12.0)]),
        '29': Polygon([(9.0, 12.0), (11.0, 12.0), (11.0, 15.0), (9.0, 15.0)]),
        '30': Polygon([(9.0, 15.0), (11.0, 15.0), (11.0, 18.0), (9.0, 18.0)]),
        '31': Polygon([(9.0, 18.0), (11.0, 18.0), (11.0, 21.0), (9.0, 21.0)]),
        '32': Polygon([(9.0, 21.0), (11.0, 21.0), (11.0, 24.0), (9.0, 24.0)]),
        '33': Polygon([(9.0, 24.0), (11.0, 24.0), (11.0, 26.0), (9.0, 26.0)]),
        '34': Polygon([(16.0, 6.0), (17.0, 6.0), (17.0, 9.0), (16.0, 9.0)]),
        '35': Polygon([(16.0, 9.0), (17.0, 9.0), (17.0, 12.0), (16.0, 12.0)]),
        '36': Polygon([(16.0, 12.0), (17.0, 12.0), (17.0, 15.0), (16.0, 15.0)]),
        '37': Polygon([(16.0, 15.0), (17.0, 15.0), (17.0, 18.0), (16.0, 18.0)]),
        '38': Polygon([(16.0, 18.0), (17.0, 18.0), (17.0, 21.0), (16.0, 21.0)]),
        '39': Polygon([(16.0, 21.0), (17.0, 21.0), (17.0, 25.0), (16.0, 25.0)]),
        '40': Polygon([(4.0, 13.0), (6.5, 13.0), (6.5, 14.0), (4.0, 14.0)]),
        '41': Polygon([(6.5, 13.0), (9.0, 13.0), (9.0, 14.0), (6.5, 14.0)]),
        '42': Polygon([(4.0, 19.0), (6.5, 19.0), (6.5, 20.0), (4.0, 20.0)]),
        '43': Polygon([(6.5, 19.0), (9.0, 19.0), (9.0, 20.0), (6.5, 20.0)]),
        '44': Polygon([(4.0, 26.0), (7.0, 26.0), (7.0, 27.0), (4.0, 27.0)]),
        '45': Polygon([(7.0, 26.0), (10.0, 26.0), (10.0, 28.0), (7.0, 28.0)]),
        '46': Polygon([(4.0, 28.0), (7.0, 28.0), (7.0, 30.0), (4.0, 30.0)]),
        '47': Polygon([(7.0, 28.0), (10.0, 28.0), (10.0, 29.0), (7.0, 29.0)]),
        '48': Polygon([(10.0, 28.0), (13.0, 28.0), (13.0, 29.0), (10.0, 29.0)]),
        '49': Polygon([(13.0, 28.0), (15.0, 28.0), (15.0, 29.0), (13.0, 29.0)]),
        '50': Polygon([(15.0, 28.0), (17.0, 28.0), (17.0, 29.0), (15.0, 29.0)]),
        '51': Polygon([(17.0, 28.0), (19.0, 28.0), (19.0, 29.0), (17.0, 29.0)]),
        '52': Polygon([(11.0, 25.0), (13.0, 25.0), (13.0, 26.0), (11.0, 26.0)]),
        '53': Polygon([(13.0, 25.0), (15.0, 25.0), (15.0, 26.0), (13.0, 26.0)]),
        '54': Polygon([(15.0, 25.0), (17.0, 25.0), (17.0, 26.0), (15.0, 26.0)]),
        '55': Polygon([(17.0, 25.0), (19.0, 25.0), (19.0, 26.0), (17.0, 26.0)]),
        '56': Polygon([(13.0, 26.0), (15.0, 26.0), (15.0, 28.0), (13.0, 28.0)]),
        '57': Polygon([(18.0, 26.0), (19.0, 26.0), (19.0, 28.0), (18.0, 28.0)]),
        '58': Polygon([(11.0, 15.0), (13.5, 15.0), (13.5, 16.0), (11.0, 16.0)]),
        '59': Polygon([(13.5, 15.0), (16.0, 15.0), (16.0, 16.0), (13.5, 16.0)]),
    }

    return Environment(
        name="Mall",
        graph=G,
        complete_area=complete_area,
        obstacles=obstacles,
        waypoints=waypoints,
        sources=["46", "45", "56"],
        targets=["1", "12"],
        specific_areas=specific_areas
    )

def get_theme_park():
    complete_area = Polygon([(0, 0), (0, 35), (40, 35), (40, 0)])
    obstacles = [
        Polygon([(18, 12), (10, 12), (8, 14), (8, 17), (6, 17), (6, 21), (4, 21), (4, 23), (7, 23), (7, 29), (12, 29), (12, 31),
                 (20, 31), (20, 32), (22, 32), (22, 34), (25, 34), (25, 32), (29, 32), (29, 32.5), (34, 32.5), (34, 28),
                 (37, 28), (37, 24), (39, 24), (39, 18), (37, 18), (37, 16), (35, 16), (35, 14), (35, 12), (32.5, 12),
                 (32.5, 11), (29.9, 11), (29.9, 11.99), (30, 11.99), (30, 11.1), (32.4, 11.1), (32.4, 12.1), (34.9, 12.1), (34.9, 14), (31, 14), (31, 14.1),
                 (32.4, 14.1), (32.4, 15.5), (32.5, 15.5), (32.5, 14.1), (34.9, 14.1), (34.9, 16.1), (36.9, 16.1), (36.9, 20),
                 (36.5, 20), (36.5, 20.1), (37, 20.1), (37, 18.1), (38.9, 18.1), (38.9, 23.9), (37, 23.9), (37, 22), (35.5 , 22),
                 (35.5, 22.1), (36.9, 22.1), (36.9, 27.9), (32.5, 27.9), (32.5, 27), (32.4, 27), (32.4, 27.9), (32, 27.9),
                 (32, 28), (33.9, 28), (33.9, 32.4), (29.1, 32.4), (29.1, 31.9), (25, 31.9), (25, 31.5), (24.9, 31.5), (24.9, 33.9),
                 (22.1, 33.9), (22.1, 31), (22, 31), (22, 31.9), (20.1, 31.9), (20.1, 30.9), (18, 30.9), (18, 29), (17.9, 29), (17.9, 30.9),
                 (12.1, 30.9), (12.1, 27.5), (14, 27.5), (14, 27.4), (12, 27.4), (12, 28.9), (7.1, 28.9), (7.1, 24), (10, 24),
                 (10, 27.5), (10.2, 27.5), (10.2, 27.4), (10.1, 27.4), (10.1, 23.9), (7.1, 23.9), (7.1, 22.9), (4.1, 22.9), (4.1, 21.1),
                 (6.1, 21.1), (6.1, 17.1), (8, 17.1), (8, 18), (10, 18), (10, 18.2), (10.1, 18.2), (10.1, 17.9), (8.1, 17.9),
                 (8.1, 14.1), (10.1, 12.1), (18, 12.1),]),

        Polygon([(30, 14), (30, 12), (28, 12), (28, 6), (24, 6), (24, 4), (21, 4), (21, 6), (19, 6), (19, 12), (18.8, 12), (18.8, 12.1), (19.9, 12.1),
                 (19.9, 14), (19, 14), (19, 14.1), (22.5, 14.1), (22.4, 14), (20, 14), (20, 12), (19.1, 12), (19.1, 6.1), (21.1, 6.1),
                 (21.1, 4.1), (23.9, 4.1), (23.9, 7), (24, 7), (24, 6.1), (27.9, 6.1), (27.9, 8.9), (24, 8.9), (24, 8), (23.9, 8),
                 (23.9, 9), (27.9, 9), (27.9, 12), (26, 12), (26, 11.5), (25.9, 11.5), (25.9, 14), (27, 14), (27, 13.9), (26, 13.9),
                 (26, 12.1), (29.9, 12.1), (29.9, 14), (28.2, 14), (28.2, 14.1), (30, 14.1),]),

        Polygon([(10.1, 23.9), (10.1, 19), (10, 19), (10, 23.9),]),

        Polygon([(10.1, 17.9), (10.1, 15.6), (11.6, 14.1), (12.9, 14.1), (12.9, 14), (11.5, 14), (10, 15.5), (10, 17.9)]),

        Polygon([(12.9, 13), (12.9, 15.4), (13, 15.4), (13, 14.1), (15, 14.1), (15, 14), (13, 14), (13, 13),]),

        Polygon([(16.9, 12.1), (16.9, 14), (16.5, 14), (16.5, 14.1), (18, 14.1), (18, 14), (17, 14), (17, 12.1),]),

        Polygon([(12.9, 17), (12.9, 24.5), (15, 24.5), (15, 24.4), (13, 24.4), (13, 18.1), (14, 18.1), (14, 18), (13, 18), (13, 17),]),

        Polygon([(15.5, 18.1), (18, 18.1), (18, 19), (18.1, 19), (18.1, 18), (15.5, 18),]),

        Polygon([(18, 21), (18, 24.4), (17.5, 24.4), (17.5, 24.5), (18.1, 24.5), (18.1, 21),]),

        Polygon([(16, 27.5), (17.9, 27.5), (17.9, 28), (18, 28), (18, 27.5), (20.1, 27.5), (20.1, 25), (20, 25), (20, 27.4), (16, 27.4)]),

        Polygon([(20.1, 23), (20.1, 22), (20.3, 22), (20.3, 21.9), (20.1, 21.9), (20.1, 16), (20, 16), (20, 23),]),

        Polygon([(22, 16), (22, 18), (24, 18), (24, 20), (24.1, 20), (24.1, 17), (24, 17), (24, 17.9), (22.1, 17.9), (22.1, 16),]),

        Polygon([(24, 11.5), (24, 14), (23.8, 14), (23.8, 14.1), (24, 14.1), (24, 16.2), (24.1, 16.2), (24.1, 11.6), (24.3, 11.6), (24.3, 11.5),]),

        Polygon([(26, 15.5), (26, 20), (27, 20), (27, 19.9), (26.1, 19.9), (26.1, 15.5),]),

        Polygon([(29, 20), (34.5, 20), (34.5, 19.9), (32.5, 19.9), (32.5, 17), (32.4, 17), (32.4, 19.9), (29, 19.9),]),

        Polygon([(29, 22.1), (32.4, 22.1), (32.4, 25.5), (32.5, 25.5), (32.5, 22.1), (34, 22.1), (34, 22), (29, 22),]),

        Polygon([(22, 22), (22, 28), (22.1, 28), (22.1, 22),]),

        Polygon([(24, 22), (24, 25), (24.1, 25), (24.1, 22),]),

        Polygon([(24, 26.5), (24, 30), (28.9, 30), (28.9, 31.9), (29, 31.9), (29, 29.9), (24.1, 29.9), (24.1, 26.5),]),

        Polygon([(27, 22), (26, 22), (26, 28), (30.5, 28), (30.5, 27.9), (26.1, 27.9), (26.1, 22.1), (27, 22.1),]),

        Polygon([(18, 12), (18, 12.1), (19, 12.1), (19, 12)]),


    ]

    waypoints = {
        '1': ([10, 13], 1.5),
        '2': ([15.0, 13.0], 0.9),
        '3': ([15.0, 16.0], 1.8),
        '4': ([18.5, 16.0], 1.5),
        '5': ([18.5, 13.0], 0.75),
        '6': ([21.0, 16.0], 0.65),
        '7': ([23.0, 16.0], 0.65),
        '8': ([23.0, 13.0], 0.65),
        '9': ([21.666666666666668, 8.833333333333334], 2.4),
        '10': ([26.0, 7.5], 1.4),
        '11': ([25.09090909090909, 10.5], 0.85),
        '12': ([25.0, 12.75], 0.5),
        '13': ([25.0, 15.6], 0.70),
        '14': ([29.25, 17.0], 2.8),
        '15': ([28.0, 13.0], 0.75),
        '16': ([30.74912985274431, 12.70548862115127], 0.75),
        '17': ([34.53260869565217, 17.347826086956523], 2.0),
        '18': ([34.75, 21.0], 0.70),
        '19': ([38.0, 21.0], 0.65),
        '20': ([28.25, 21.0], 0.70),
        '21': ([34.75, 25.0], 1.9),
        '22': ([29.25, 25.0], 2.5),
        '23': ([31.5, 30.25], 1.9),
        '24': ([26.5, 29.0], 0.65),
        '25': ([25.0, 25.5], 0.65),
        '26': ([25.0, 20.6], 0.70),
        '27': ([22.0, 20.0], 1.5),
        '28': ([23.0, 25.5], 0.65),
        '29': ([20.90909090909091, 29.522727272727273], 1.7),
        '30': ([23.5, 32.5], 1.0),
        '31': ([26.72222222222222, 30.944444444444443], 0.75),
        '32': ([21.0, 24.25], 0.70),
        '33': ([19.0, 24.25], 0.70),
        '34': ([19.0, 20.0], 0.65),
        '35': ([15.5, 21.25], 2.4),
        '36': ([15.5, 26.0], 1.4),
        '37': ([15.0, 29.25], 1.5),
        '38': ([11.5, 26.0], 1.0),
        '39': ([8.416666666666666, 26.791666666666668], 0.85),
        '40': ([11.5, 22.25], 0.75),
        '41': ([11.566666666666666, 17.166666666666668], 1.0),
        '42': ([7.568965517241379, 20.810344827586206], 2.0),

    }

    # Create the graph
    G = nx.DiGraph()

    nodes = {
        "1": 0.0,
        "2": 0.0,
        "3": 0.0,
        "4": 0.0,
        "5": 0.0,
        "6": 0.0,
        "7": 0.0,
        "8": 0.0,
        "9": 0.0,
        "10": 0.0,
        "11": 0.0,
        "12": 0.0,
        "13": 0.0,
        "14": 0.0,
        "15": 0.0,
        "16": 0.0,
        "17": 0.0,
        "18": 0.0,
        "19": 0.0,
        "20": 0.0,
        "21": 0.0,
        "22": 0.0,
        "23": 0.0,
        "24": 0.0,
        "25": 0.0,
        "26": 0.0,
        "27": 0.0,
        "28": 0.0,
        "29": 0.0,
        "30": 0.0,
        "31": 0.0,
        "32": 0.0,
        "33": 0.0,
        "34": 0.0,
        "35": 0.0,
        "36": 0.0,
        "37": 0.0,
        "38": 0.0,
        "39": 0.0,
        "40": 0.0,
        "41": 0.0,
        "42": 0.0,
    }

    for node, risk in nodes.items():
        G.add_node(node, risk=risk, blocked=False, is_stairs=False, floor=0)

    edges = [
        ('1', '2', 5.0),
        ('2', '1', 5.0),
        ('2', '3', 3.0),
        ('3', '2', 3.0),
        ('3', '4', 3.5),
        ('3', '35', 5.273755777432247),
        ('3', '41', 3.6261396675926445),
        ('4', '3', 3.5),
        ('4', '5', 3.0),
        ('4', '6', 2.5),
        ('4', '34', 4.031128874149275),
        ('5', '4', 3.0),
        ('6', '4', 2.5),
        ('6', '7', 2.0),
        ('6', '27', 4.123105625617661),
        ('7', '6', 2.0),
        ('7', '8', 3.0),
        ('7', '13', 2.039607805437114),
        ('8', '7', 3.0),
        ('8', '9', 4.374801582802228),
        ('9', '8', 4.374801582802228),
        ('9', '10', 4.5338235029118135),
        ('9', '11', 3.8083085428782417),
        ('10', '9', 4.5338235029118135),
        ('11', '9', 3.8083085428782417),
        ('11', '12', 2.251835798367616),
        ('12', '11', 2.251835798367616),
        ('12', '13', 2.8499999999999996),
        ('13', '7', 2.039607805437114),
        ('13', '12', 2.8499999999999996),
        ('13', '14', 4.474650824366075),
        ('13', '26', 5.000000000000002),
        ('14', '13', 4.474650824366075),
        ('14', '15', 4.190763653560053),
        ('14', '16', 4.548650162240486),
        ('14', '17', 5.294047375888076),
        ('14', '20', 4.123105625617661),
        ('15', '14', 4.190763653560053),
        ('16', '14', 4.548650162240486),
        ('17', '14', 5.294047375888076),
        ('17', '18', 3.658638171549812),
        ('18', '17', 3.658638171549812),
        ('18', '19', 3.25),
        ('18', '20', 6.5),
        ('18', '21', 4.0),
        ('19', '18', 3.25),
        ('20', '14', 4.123105625617661),
        ('20', '18', 6.5),
        ('20', '22', 4.123105625617661),
        ('20', '26', 3.274522866006588),
        ('21', '18', 4.0),
        ('21', '22', 5.5),
        ('22', '20', 4.123105625617661),
        ('22', '21', 5.5),
        ('22', '23', 5.7118298293979315),
        ('23', '22', 5.7118298293979315),
        ('23', '24', 5.153882032022076),
        ('24', '23', 5.153882032022076),
        ('24', '25', 3.8078865529319543),
        ('25', '24', 3.8078865529319543),
        ('25', '26', 4.899999999999999),
        ('25', '28', 2.0),
        ('26', '13', 5.000000000000002),
        ('26', '20', 3.274522866006588),
        ('26', '25', 4.899999999999999),
        ('26', '27', 3.0594117081556713),
        ('27', '6', 4.123105625617661),
        ('27', '26', 3.0594117081556713),
        ('27', '28', 5.5901699437494745),
        ('27', '32', 4.366062299143245),
        ('28', '25', 2.0),
        ('28', '27', 5.5901699437494745),
        ('28', '29', 4.533677926054087),
        ('29', '28', 4.533677926054087),
        ('29', '30', 3.946766120498825),
        ('29', '31', 5.984461160377201),
        ('29', '32', 5.273510913553883),
        ('29', '37', 5.915381267271798),
        ('30', '29', 3.946766120498825),
        ('30', '31', 3.578053819578804),
        ('31', '29', 5.984461160377201),
        ('31', '30', 3.578053819578804),
        ('32', '27', 4.366062299143245),
        ('32', '29', 5.273510913553883),
        ('32', '33', 2.0),
        ('33', '32', 2.0),
        ('33', '34', 4.25),
        ('33', '36', 3.913118960624632),
        ('34', '4', 4.031128874149275),
        ('34', '33', 4.25),
        ('34', '35', 3.7165171868296265),
        ('35', '3', 5.273755777432247),
        ('35', '34', 3.7165171868296265),
        ('35', '36', 4.75),
        ('36', '33', 3.913118960624632),
        ('36', '35', 4.75),
        ('36', '37', 3.2882366094914763),
        ('36', '38', 4.0),
        ('37', '29', 5.915381267271798),
        ('37', '36', 3.2882366094914763),
        ('38', '36', 4.0),
        ('38', '39', 3.1833442408190105),
        ('38', '40', 3.75),
        ('39', '38', 3.1833442408190105),
        ('40', '38', 3.75),
        ('40', '41', 5.083770473007432),
        ('41', '3', 3.6261396675926445),
        ('41', '40', 5.083770473007432),
        ('41', '42', 5.409066926973473),
        ('42', '41', 5.409066926973473),
    ]

    G.add_edges_from([(u, v, {"cost": c}) for u, v, c in edges])

    specific_areas = {
        '1': Polygon([(8.0, 18.0), (10.0, 18.0), (10.0, 15.5), (11.5, 14.0), (13.0, 14.0), (13.0, 12.0), (10.0, 12.0), (8.0, 14.0)]),
        '2': Polygon([(13.0, 14.0), (13.0, 12.0), (17.0, 12.0), (17.0, 14.0)]),
        '3': Polygon([(13.0, 14.0), (13.0, 18.0), (17.0, 18.0), (17.0, 14.0)]),
        '4': Polygon([(17.0, 14.0), (17.0, 18.0), (20.0, 18.0), (20.0, 14.0)]),
        '5': Polygon([(17.0, 12.0), (17.0, 14.0), (20.0, 14.0), (20.0, 12.0)]),
        '6': Polygon([(20.0, 14.0), (20.0, 18.0), (22.0, 18.0), (22.0, 14.0)]),
        '7': Polygon([(22.0, 14.0), (22.0, 18.0), (24.0, 18.0), (24.0, 14.0)]),
        '8': Polygon([(20.0, 12.0), (20.0, 14.0), (24.0, 14.0), (24.0, 12.0)]),
        '9': Polygon([(21.0, 4.0), (21.0, 6.0), (19.0, 6.0), (19.0, 12.0), (24.0, 12.0), (24.0, 4.0)]),
        '10': Polygon([(24.0, 6.0), (24.0, 9.0), (28.0, 9.0), (28.0, 6.0)]),
        '11': Polygon([(24.0, 9.0), (24.0, 11.5), (26.0, 11.5), (26.0, 12.0), (28.0, 12.0), (28.0, 9.0)]),
        '12': Polygon([(24.0, 11.5), (24.0, 14.0), (26.0, 14.0), (26.0, 11.5)]),
        '13': Polygon([(24.0, 14.0), (24.0, 18.0), (26.0, 18.0), (26.0, 14.0)]),
        '14': Polygon([(26.0, 14.0), (26.0, 20.0), (32.5, 20.0), (32.5, 14.0)]),
        '15': Polygon([(26.0, 12.0), (26.0, 14.0), (30.0, 14.0), (30.0, 12.0)]),
        '16': Polygon([(30.0, 11.0), (30.0, 14.0), (35.0, 14.0), (35.0, 12.0), (32.5, 12.0), (32.4, 11)]),
        '17': Polygon([(32.5, 14.0), (32.5, 20.0), (37.0, 20.0), (37.0, 16.0), (35.0, 16.0), (35.0, 14.0)]),
        '18': Polygon([(32.5, 20.0), (32.5, 22.0), (37.0, 22.0), (37.0, 20.0)]),
        '19': Polygon([(37.0, 18.0), (37, 24.0), (39.0, 24.0), (39.0, 18.0)]),
        '20': Polygon([(26.0, 20.0), (26.0, 22.0), (32.5, 22.0), (32.5, 20.0)]),
        '21': Polygon([(32.5, 22.0), (32.5, 28.0), (37.0, 28.0), (37.0, 22.0)]),
        '22': Polygon([(26.0, 22.0), (26.0, 28.0), (32.5, 28.0), (32.5, 22.0)]),
        '23': Polygon([(29.0, 28.0), (29.0, 32.5), (34.0, 32.5), (34.0, 28.0)]),
        '24': Polygon([(24.0, 28.0), (24.0, 30.0), (29.0, 30.0), (29.0, 28.0)]),
        '25': Polygon([(24.0, 23.0), (24.0, 28.0), (26.0, 28.0), (26.0, 23.0)]),
        '26': Polygon([(24.0, 18.0), (24.0, 23.0), (26.0, 23.0), (26.0, 18.0)]),
        '27': Polygon([(20.0, 18.0), (20.0, 22.0), (24.0, 22.0), (24.0, 18.0)]),
        '28': Polygon([(22.0, 22.0), (22.0, 28.0), (24.0, 28.0), (24.0, 22.0)]),
        '29': Polygon([(20.0, 27.5), (18.0, 27.5), (18.0, 31.0), (20.0, 31.0), (20.0, 32.0), (22.0, 32.0), (22.0, 31.0), (24.0, 31.0),
                       (24.0, 28.0), (22.0, 28.0), (22.0, 27.5)]),
        '30': Polygon([(22.0, 31.0), (22.0, 34.0), (25.0, 34.0), (25.0, 31.0)]),
        '31': Polygon([(24.0, 30.0), (24.0, 31.0), (25.0, 31.0), (25.0, 32.0), (29.0, 32.0), (29.0, 30.0)]),
        '32': Polygon([(20.0, 22.0), (20.0, 27.5), (22.0, 27.5), (22.0, 22.0)]),
        '33': Polygon([(18.0, 22.0), (18.0, 27.5), (20.0, 27.5), (20.0, 22.0)]),
        '34': Polygon([(18.0, 18.0), (18.0, 22.0), (20.0, 22.0), (20.0, 18.0)]),
        '35': Polygon([(13.0, 18.0), (13.0, 24.5), (18.0, 24.5), (18.0, 18.0)]),
        '36': Polygon([(13.0, 24.5), (13.0, 27.5), (18.0, 27.5), (18.0, 24.5)]),
        '37': Polygon([(12.0, 27.5), (12.0, 31.0), (18.0, 31.0), (18.0, 27.5)]),
        '38': Polygon([(10.0, 24.5), (10.0, 27.5), (13.0, 27.5), (13.0, 24.5)]),
        '39': Polygon([(7.0, 24.0), (7.0, 29.0), (12.0, 29.0), (12.0, 27.5), (10.0, 27.5), (10.0, 24.0)]),
        '40': Polygon([(10.0, 20.0), (10.0, 24.5), (13.0, 24.5), (13.0, 20.0)]),
        '41': Polygon([(10.0, 15.5), (10.0, 20.0), (13.0, 20.0), (13.0, 14.0), (11.5, 14.0)]),
        '42': Polygon([(6.0, 17.0), (6.0, 21.0), (4.0, 21.0), (4.0, 23.0), (7.0, 23.0), (7.0, 24.0), (10.0, 24.0), (10.0, 18.0),
                       (8.0, 18.0), (8.0, 17.0)]),

    }

    cleaned_areas = remove_obstacles_from_areas(specific_areas, obstacles)

    return Environment(
        name="Theme Park",
        graph=G,
        complete_area=complete_area,
        obstacles=obstacles,
        waypoints=waypoints,
        sources=[],
        targets=[],
        specific_areas=cleaned_areas
    )